{"rendered_body":"<p>指定した文字列が、対象の文字コードにおいてサポートされているかどうかを調べたい場合、<code>CharsetEncoder.canEncode</code> を利用すると便利です。これは引数として与えられたメソッドが対象の文字コードでサポートされている場合true、それ以外はfalseを返すメソッドで、たとえば文字列<code>s</code>がShift_JISにおいてサポートされているかを調べたい場合は次のように書けばよいです。</p>\n\n<div class=\"code-frame\" data-lang=\"java\"><div class=\"highlight\"><pre><code><span class=\"nc\">String</span> <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"s\">\"...\"</span><span class=\"o\">;</span>\n<span class=\"nc\">Charset</span><span class=\"o\">.</span><span class=\"na\">forName</span><span class=\"o\">(</span><span class=\"s\">\"Shift_JIS\"</span><span class=\"o\">).</span><span class=\"na\">newEncoder</span><span class=\"o\">().</span><span class=\"na\">canEncode</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">);</span>\n</code></pre></div></div>\n\n<p>実際に動いているかを検証する例として、「髙」という漢字を利用します。いわゆる「はしごだか」ですね。この漢字はShift_JISではサポートされていないのですが、その拡張であるWindows-31Jではサポートされています。これを確かめてみましょう。</p>\n\n<div class=\"code-frame\" data-lang=\"java\"><div class=\"highlight\"><pre><code><span class=\"nc\">Charset</span><span class=\"o\">.</span><span class=\"na\">forName</span><span class=\"o\">(</span><span class=\"s\">\"Shift_JIS\"</span><span class=\"o\">).</span><span class=\"na\">newEncoder</span><span class=\"o\">().</span><span class=\"na\">canEncode</span><span class=\"o\">(</span><span class=\"s\">\"髙\"</span><span class=\"o\">);</span>   <span class=\"c1\">//=&gt; false</span>\n<span class=\"nc\">Charset</span><span class=\"o\">.</span><span class=\"na\">forName</span><span class=\"o\">(</span><span class=\"s\">\"Windows-31J\"</span><span class=\"o\">).</span><span class=\"na\">newEncoder</span><span class=\"o\">().</span><span class=\"na\">canEncode</span><span class=\"o\">(</span><span class=\"s\">\"髙\"</span><span class=\"o\">);</span> <span class=\"c1\">//=&gt; true</span>\n</code></pre></div></div>\n\n<p>想定通り動作していそうですね(´・ω・｀)</p>\n\n<p><strong>環境情報:</strong></p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>C:\\&gt;javac -version\njavac 11.0.3\nC:\\&gt;java -version\nopenjdk version \"11.0.3\" 2019-04-16\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.3+7)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.3+7, mixed mode)\n</code></pre></div></div>\n","body":"指定した文字列が、対象の文字コードにおいてサポートされているかどうかを調べたい場合、`CharsetEncoder.canEncode` を利用すると便利です。これは引数として与えられたメソッドが対象の文字コードでサポートされている場合true、それ以外はfalseを返すメソッドで、たとえば文字列`s`がShift_JISにおいてサポートされているかを調べたい場合は次のように書けばよいです。\n\n```java\nString s = \"...\";\nCharset.forName(\"Shift_JIS\").newEncoder().canEncode(s);\n```\n\n実際に動いているかを検証する例として、「髙」という漢字を利用します。いわゆる「はしごだか」ですね。この漢字はShift_JISではサポートされていないのですが、その拡張であるWindows-31Jではサポートされています。これを確かめてみましょう。\n\n```java\nCharset.forName(\"Shift_JIS\").newEncoder().canEncode(\"髙\");   //=> false\nCharset.forName(\"Windows-31J\").newEncoder().canEncode(\"髙\"); //=> true\n```\n\n想定通り動作していそうですね(´・ω・｀)\n\n**環境情報:**\n\n```\nC:\\>javac -version\njavac 11.0.3\nC:\\>java -version\nopenjdk version \"11.0.3\" 2019-04-16\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.3+7)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.3+7, mixed mode)\n```\n","coediting":false,"comments_count":0,"created_at":"2020-10-11T17:25:51+09:00","group":null,"id":"f53ba312bad7b6dc2151","likes_count":2,"private":false,"reactions_count":0,"stocks_count":0,"tags":[{"name":"Java","versions":[]}],"title":"指定した文字列が、対象の文字コードにおいてサポートされているかを調べたい","updated_at":"2020-10-11T17:25:51+09:00","url":"https://qiita.com/neko_the_shadow/items/f53ba312bad7b6dc2151","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":35,"github_login_name":null,"id":"neko_the_shadow","items_count":210,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":1764,"team_membership":null,"organization_url_name":null}