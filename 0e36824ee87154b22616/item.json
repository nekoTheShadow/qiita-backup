{"rendered_body":"<p data-sourcepos=\"1:1-1:139\">仕事の会議中に暇つぶしに作成したので、ここにさらしておきます。実用性はありません（´・ω・｀）</p>\n<p data-sourcepos=\"3:1-3:114\">100以下の自然数について、素因数分解するSQLです。MySQL8にて稼働確認をしています。</p>\n<div class=\"code-frame\" data-lang=\"SQL\" data-sourcepos=\"5:1-28:3\"><div class=\"highlight\"><pre><code><span class=\"k\">WITH</span> <span class=\"k\">RECURSIVE</span> \n<span class=\"n\">numbers</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span> <span class=\"mi\">2</span>\n  <span class=\"k\">UNION</span> <span class=\"k\">ALL</span>\n    <span class=\"k\">SELECT</span> <span class=\"n\">x</span><span class=\"o\">+</span><span class=\"mi\">1</span> <span class=\"k\">FROM</span> <span class=\"n\">numbers</span> <span class=\"k\">WHERE</span> <span class=\"n\">x</span> <span class=\"o\">&lt;</span> <span class=\"mi\">100</span>\n<span class=\"p\">),</span>\n<span class=\"n\">factors</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">divided</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span> <span class=\"k\">FROM</span> <span class=\"n\">numbers</span>\n  <span class=\"k\">UNION</span> <span class=\"k\">ALL</span>\n    <span class=\"k\">SELECT</span>\n      <span class=\"n\">x</span><span class=\"p\">,</span>\n      <span class=\"k\">CASE</span> <span class=\"k\">WHEN</span> <span class=\"n\">y</span> <span class=\"k\">MOD</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"k\">THEN</span> <span class=\"n\">y</span> <span class=\"n\">DIV</span> <span class=\"n\">i</span> <span class=\"k\">ELSE</span> <span class=\"n\">y</span>   <span class=\"k\">END</span><span class=\"p\">,</span> \n      <span class=\"k\">CASE</span> <span class=\"k\">WHEN</span> <span class=\"n\">y</span> <span class=\"k\">MOD</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"k\">THEN</span> <span class=\"n\">i</span>       <span class=\"k\">ELSE</span> <span class=\"n\">i</span><span class=\"o\">+</span><span class=\"mi\">1</span> <span class=\"k\">END</span><span class=\"p\">,</span>\n      <span class=\"k\">CASE</span> <span class=\"k\">WHEN</span> <span class=\"n\">y</span> <span class=\"k\">MOD</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"k\">THEN</span> <span class=\"mi\">1</span>       <span class=\"k\">ELSE</span> <span class=\"mi\">0</span>   <span class=\"k\">END</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">factors</span>\n    <span class=\"k\">WHERE</span> <span class=\"n\">y</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span>\n<span class=\"p\">)</span>\n<span class=\"k\">SELECT</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">GROUP_CONCAT</span><span class=\"p\">(</span><span class=\"n\">i</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">i</span> <span class=\"n\">SEPARATOR</span> <span class=\"s1\">' '</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">primes</span>\n<span class=\"k\">FROM</span> <span class=\"n\">factors</span> \n<span class=\"k\">WHERE</span> <span class=\"n\">divided</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">x</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">x</span><span class=\"p\">;</span>\n</code></pre></div></div>\n<p data-sourcepos=\"30:1-30:39\">実行結果は以下の通りです。</p>\n<table data-sourcepos=\"32:1-132:12\">\n<thead>\n<tr data-sourcepos=\"32:1-32:10\">\n<th style=\"text-align: left\" data-sourcepos=\"32:2-32:2\">x</th>\n<th style=\"text-align: left\" data-sourcepos=\"32:4-32:9\">primes</th>\n</tr>\n</thead>\n<tbody>\n<tr data-sourcepos=\"34:1-34:5\">\n<td style=\"text-align: left\" data-sourcepos=\"34:2-34:2\">2</td>\n<td style=\"text-align: left\" data-sourcepos=\"34:4-34:4\">2</td>\n</tr>\n<tr data-sourcepos=\"35:1-35:5\">\n<td style=\"text-align: left\" data-sourcepos=\"35:2-35:2\">3</td>\n<td style=\"text-align: left\" data-sourcepos=\"35:4-35:4\">3</td>\n</tr>\n<tr data-sourcepos=\"36:1-36:7\">\n<td style=\"text-align: left\" data-sourcepos=\"36:2-36:2\">4</td>\n<td style=\"text-align: left\" data-sourcepos=\"36:4-36:6\">2 2</td>\n</tr>\n<tr data-sourcepos=\"37:1-37:5\">\n<td style=\"text-align: left\" data-sourcepos=\"37:2-37:2\">5</td>\n<td style=\"text-align: left\" data-sourcepos=\"37:4-37:4\">5</td>\n</tr>\n<tr data-sourcepos=\"38:1-38:7\">\n<td style=\"text-align: left\" data-sourcepos=\"38:2-38:2\">6</td>\n<td style=\"text-align: left\" data-sourcepos=\"38:4-38:6\">2 3</td>\n</tr>\n<tr data-sourcepos=\"39:1-39:5\">\n<td style=\"text-align: left\" data-sourcepos=\"39:2-39:2\">7</td>\n<td style=\"text-align: left\" data-sourcepos=\"39:4-39:4\">7</td>\n</tr>\n<tr data-sourcepos=\"40:1-40:9\">\n<td style=\"text-align: left\" data-sourcepos=\"40:2-40:2\">8</td>\n<td style=\"text-align: left\" data-sourcepos=\"40:4-40:8\">2 2 2</td>\n</tr>\n<tr data-sourcepos=\"41:1-41:7\">\n<td style=\"text-align: left\" data-sourcepos=\"41:2-41:2\">9</td>\n<td style=\"text-align: left\" data-sourcepos=\"41:4-41:6\">3 3</td>\n</tr>\n<tr data-sourcepos=\"42:1-42:8\">\n<td style=\"text-align: left\" data-sourcepos=\"42:2-42:3\">10</td>\n<td style=\"text-align: left\" data-sourcepos=\"42:5-42:7\">2 5</td>\n</tr>\n<tr data-sourcepos=\"43:1-43:7\">\n<td style=\"text-align: left\" data-sourcepos=\"43:2-43:3\">11</td>\n<td style=\"text-align: left\" data-sourcepos=\"43:5-43:6\">11</td>\n</tr>\n<tr data-sourcepos=\"44:1-44:10\">\n<td style=\"text-align: left\" data-sourcepos=\"44:2-44:3\">12</td>\n<td style=\"text-align: left\" data-sourcepos=\"44:5-44:9\">2 2 3</td>\n</tr>\n<tr data-sourcepos=\"45:1-45:7\">\n<td style=\"text-align: left\" data-sourcepos=\"45:2-45:3\">13</td>\n<td style=\"text-align: left\" data-sourcepos=\"45:5-45:6\">13</td>\n</tr>\n<tr data-sourcepos=\"46:1-46:8\">\n<td style=\"text-align: left\" data-sourcepos=\"46:2-46:3\">14</td>\n<td style=\"text-align: left\" data-sourcepos=\"46:5-46:7\">2 7</td>\n</tr>\n<tr data-sourcepos=\"47:1-47:8\">\n<td style=\"text-align: left\" data-sourcepos=\"47:2-47:3\">15</td>\n<td style=\"text-align: left\" data-sourcepos=\"47:5-47:7\">3 5</td>\n</tr>\n<tr data-sourcepos=\"48:1-48:12\">\n<td style=\"text-align: left\" data-sourcepos=\"48:2-48:3\">16</td>\n<td style=\"text-align: left\" data-sourcepos=\"48:5-48:11\">2 2 2 2</td>\n</tr>\n<tr data-sourcepos=\"49:1-49:7\">\n<td style=\"text-align: left\" data-sourcepos=\"49:2-49:3\">17</td>\n<td style=\"text-align: left\" data-sourcepos=\"49:5-49:6\">17</td>\n</tr>\n<tr data-sourcepos=\"50:1-50:10\">\n<td style=\"text-align: left\" data-sourcepos=\"50:2-50:3\">18</td>\n<td style=\"text-align: left\" data-sourcepos=\"50:5-50:9\">2 3 3</td>\n</tr>\n<tr data-sourcepos=\"51:1-51:7\">\n<td style=\"text-align: left\" data-sourcepos=\"51:2-51:3\">19</td>\n<td style=\"text-align: left\" data-sourcepos=\"51:5-51:6\">19</td>\n</tr>\n<tr data-sourcepos=\"52:1-52:10\">\n<td style=\"text-align: left\" data-sourcepos=\"52:2-52:3\">20</td>\n<td style=\"text-align: left\" data-sourcepos=\"52:5-52:9\">2 2 5</td>\n</tr>\n<tr data-sourcepos=\"53:1-53:8\">\n<td style=\"text-align: left\" data-sourcepos=\"53:2-53:3\">21</td>\n<td style=\"text-align: left\" data-sourcepos=\"53:5-53:7\">3 7</td>\n</tr>\n<tr data-sourcepos=\"54:1-54:9\">\n<td style=\"text-align: left\" data-sourcepos=\"54:2-54:3\">22</td>\n<td style=\"text-align: left\" data-sourcepos=\"54:5-54:8\">2 11</td>\n</tr>\n<tr data-sourcepos=\"55:1-55:7\">\n<td style=\"text-align: left\" data-sourcepos=\"55:2-55:3\">23</td>\n<td style=\"text-align: left\" data-sourcepos=\"55:5-55:6\">23</td>\n</tr>\n<tr data-sourcepos=\"56:1-56:12\">\n<td style=\"text-align: left\" data-sourcepos=\"56:2-56:3\">24</td>\n<td style=\"text-align: left\" data-sourcepos=\"56:5-56:11\">2 2 2 3</td>\n</tr>\n<tr data-sourcepos=\"57:1-57:8\">\n<td style=\"text-align: left\" data-sourcepos=\"57:2-57:3\">25</td>\n<td style=\"text-align: left\" data-sourcepos=\"57:5-57:7\">5 5</td>\n</tr>\n<tr data-sourcepos=\"58:1-58:9\">\n<td style=\"text-align: left\" data-sourcepos=\"58:2-58:3\">26</td>\n<td style=\"text-align: left\" data-sourcepos=\"58:5-58:8\">2 13</td>\n</tr>\n<tr data-sourcepos=\"59:1-59:10\">\n<td style=\"text-align: left\" data-sourcepos=\"59:2-59:3\">27</td>\n<td style=\"text-align: left\" data-sourcepos=\"59:5-59:9\">3 3 3</td>\n</tr>\n<tr data-sourcepos=\"60:1-60:10\">\n<td style=\"text-align: left\" data-sourcepos=\"60:2-60:3\">28</td>\n<td style=\"text-align: left\" data-sourcepos=\"60:5-60:9\">2 2 7</td>\n</tr>\n<tr data-sourcepos=\"61:1-61:7\">\n<td style=\"text-align: left\" data-sourcepos=\"61:2-61:3\">29</td>\n<td style=\"text-align: left\" data-sourcepos=\"61:5-61:6\">29</td>\n</tr>\n<tr data-sourcepos=\"62:1-62:10\">\n<td style=\"text-align: left\" data-sourcepos=\"62:2-62:3\">30</td>\n<td style=\"text-align: left\" data-sourcepos=\"62:5-62:9\">2 3 5</td>\n</tr>\n<tr data-sourcepos=\"63:1-63:7\">\n<td style=\"text-align: left\" data-sourcepos=\"63:2-63:3\">31</td>\n<td style=\"text-align: left\" data-sourcepos=\"63:5-63:6\">31</td>\n</tr>\n<tr data-sourcepos=\"64:1-64:14\">\n<td style=\"text-align: left\" data-sourcepos=\"64:2-64:3\">32</td>\n<td style=\"text-align: left\" data-sourcepos=\"64:5-64:13\">2 2 2 2 2</td>\n</tr>\n<tr data-sourcepos=\"65:1-65:9\">\n<td style=\"text-align: left\" data-sourcepos=\"65:2-65:3\">33</td>\n<td style=\"text-align: left\" data-sourcepos=\"65:5-65:8\">3 11</td>\n</tr>\n<tr data-sourcepos=\"66:1-66:9\">\n<td style=\"text-align: left\" data-sourcepos=\"66:2-66:3\">34</td>\n<td style=\"text-align: left\" data-sourcepos=\"66:5-66:8\">2 17</td>\n</tr>\n<tr data-sourcepos=\"67:1-67:8\">\n<td style=\"text-align: left\" data-sourcepos=\"67:2-67:3\">35</td>\n<td style=\"text-align: left\" data-sourcepos=\"67:5-67:7\">5 7</td>\n</tr>\n<tr data-sourcepos=\"68:1-68:12\">\n<td style=\"text-align: left\" data-sourcepos=\"68:2-68:3\">36</td>\n<td style=\"text-align: left\" data-sourcepos=\"68:5-68:11\">2 2 3 3</td>\n</tr>\n<tr data-sourcepos=\"69:1-69:7\">\n<td style=\"text-align: left\" data-sourcepos=\"69:2-69:3\">37</td>\n<td style=\"text-align: left\" data-sourcepos=\"69:5-69:6\">37</td>\n</tr>\n<tr data-sourcepos=\"70:1-70:9\">\n<td style=\"text-align: left\" data-sourcepos=\"70:2-70:3\">38</td>\n<td style=\"text-align: left\" data-sourcepos=\"70:5-70:8\">2 19</td>\n</tr>\n<tr data-sourcepos=\"71:1-71:9\">\n<td style=\"text-align: left\" data-sourcepos=\"71:2-71:3\">39</td>\n<td style=\"text-align: left\" data-sourcepos=\"71:5-71:8\">3 13</td>\n</tr>\n<tr data-sourcepos=\"72:1-72:12\">\n<td style=\"text-align: left\" data-sourcepos=\"72:2-72:3\">40</td>\n<td style=\"text-align: left\" data-sourcepos=\"72:5-72:11\">2 2 2 5</td>\n</tr>\n<tr data-sourcepos=\"73:1-73:7\">\n<td style=\"text-align: left\" data-sourcepos=\"73:2-73:3\">41</td>\n<td style=\"text-align: left\" data-sourcepos=\"73:5-73:6\">41</td>\n</tr>\n<tr data-sourcepos=\"74:1-74:10\">\n<td style=\"text-align: left\" data-sourcepos=\"74:2-74:3\">42</td>\n<td style=\"text-align: left\" data-sourcepos=\"74:5-74:9\">2 3 7</td>\n</tr>\n<tr data-sourcepos=\"75:1-75:7\">\n<td style=\"text-align: left\" data-sourcepos=\"75:2-75:3\">43</td>\n<td style=\"text-align: left\" data-sourcepos=\"75:5-75:6\">43</td>\n</tr>\n<tr data-sourcepos=\"76:1-76:11\">\n<td style=\"text-align: left\" data-sourcepos=\"76:2-76:3\">44</td>\n<td style=\"text-align: left\" data-sourcepos=\"76:5-76:10\">2 2 11</td>\n</tr>\n<tr data-sourcepos=\"77:1-77:10\">\n<td style=\"text-align: left\" data-sourcepos=\"77:2-77:3\">45</td>\n<td style=\"text-align: left\" data-sourcepos=\"77:5-77:9\">3 3 5</td>\n</tr>\n<tr data-sourcepos=\"78:1-78:9\">\n<td style=\"text-align: left\" data-sourcepos=\"78:2-78:3\">46</td>\n<td style=\"text-align: left\" data-sourcepos=\"78:5-78:8\">2 23</td>\n</tr>\n<tr data-sourcepos=\"79:1-79:7\">\n<td style=\"text-align: left\" data-sourcepos=\"79:2-79:3\">47</td>\n<td style=\"text-align: left\" data-sourcepos=\"79:5-79:6\">47</td>\n</tr>\n<tr data-sourcepos=\"80:1-80:14\">\n<td style=\"text-align: left\" data-sourcepos=\"80:2-80:3\">48</td>\n<td style=\"text-align: left\" data-sourcepos=\"80:5-80:13\">2 2 2 2 3</td>\n</tr>\n<tr data-sourcepos=\"81:1-81:8\">\n<td style=\"text-align: left\" data-sourcepos=\"81:2-81:3\">49</td>\n<td style=\"text-align: left\" data-sourcepos=\"81:5-81:7\">7 7</td>\n</tr>\n<tr data-sourcepos=\"82:1-82:10\">\n<td style=\"text-align: left\" data-sourcepos=\"82:2-82:3\">50</td>\n<td style=\"text-align: left\" data-sourcepos=\"82:5-82:9\">2 5 5</td>\n</tr>\n<tr data-sourcepos=\"83:1-83:9\">\n<td style=\"text-align: left\" data-sourcepos=\"83:2-83:3\">51</td>\n<td style=\"text-align: left\" data-sourcepos=\"83:5-83:8\">3 17</td>\n</tr>\n<tr data-sourcepos=\"84:1-84:11\">\n<td style=\"text-align: left\" data-sourcepos=\"84:2-84:3\">52</td>\n<td style=\"text-align: left\" data-sourcepos=\"84:5-84:10\">2 2 13</td>\n</tr>\n<tr data-sourcepos=\"85:1-85:7\">\n<td style=\"text-align: left\" data-sourcepos=\"85:2-85:3\">53</td>\n<td style=\"text-align: left\" data-sourcepos=\"85:5-85:6\">53</td>\n</tr>\n<tr data-sourcepos=\"86:1-86:12\">\n<td style=\"text-align: left\" data-sourcepos=\"86:2-86:3\">54</td>\n<td style=\"text-align: left\" data-sourcepos=\"86:5-86:11\">2 3 3 3</td>\n</tr>\n<tr data-sourcepos=\"87:1-87:9\">\n<td style=\"text-align: left\" data-sourcepos=\"87:2-87:3\">55</td>\n<td style=\"text-align: left\" data-sourcepos=\"87:5-87:8\">5 11</td>\n</tr>\n<tr data-sourcepos=\"88:1-88:12\">\n<td style=\"text-align: left\" data-sourcepos=\"88:2-88:3\">56</td>\n<td style=\"text-align: left\" data-sourcepos=\"88:5-88:11\">2 2 2 7</td>\n</tr>\n<tr data-sourcepos=\"89:1-89:9\">\n<td style=\"text-align: left\" data-sourcepos=\"89:2-89:3\">57</td>\n<td style=\"text-align: left\" data-sourcepos=\"89:5-89:8\">3 19</td>\n</tr>\n<tr data-sourcepos=\"90:1-90:9\">\n<td style=\"text-align: left\" data-sourcepos=\"90:2-90:3\">58</td>\n<td style=\"text-align: left\" data-sourcepos=\"90:5-90:8\">2 29</td>\n</tr>\n<tr data-sourcepos=\"91:1-91:7\">\n<td style=\"text-align: left\" data-sourcepos=\"91:2-91:3\">59</td>\n<td style=\"text-align: left\" data-sourcepos=\"91:5-91:6\">59</td>\n</tr>\n<tr data-sourcepos=\"92:1-92:12\">\n<td style=\"text-align: left\" data-sourcepos=\"92:2-92:3\">60</td>\n<td style=\"text-align: left\" data-sourcepos=\"92:5-92:11\">2 2 3 5</td>\n</tr>\n<tr data-sourcepos=\"93:1-93:7\">\n<td style=\"text-align: left\" data-sourcepos=\"93:2-93:3\">61</td>\n<td style=\"text-align: left\" data-sourcepos=\"93:5-93:6\">61</td>\n</tr>\n<tr data-sourcepos=\"94:1-94:9\">\n<td style=\"text-align: left\" data-sourcepos=\"94:2-94:3\">62</td>\n<td style=\"text-align: left\" data-sourcepos=\"94:5-94:8\">2 31</td>\n</tr>\n<tr data-sourcepos=\"95:1-95:10\">\n<td style=\"text-align: left\" data-sourcepos=\"95:2-95:3\">63</td>\n<td style=\"text-align: left\" data-sourcepos=\"95:5-95:9\">3 3 7</td>\n</tr>\n<tr data-sourcepos=\"96:1-96:16\">\n<td style=\"text-align: left\" data-sourcepos=\"96:2-96:3\">64</td>\n<td style=\"text-align: left\" data-sourcepos=\"96:5-96:15\">2 2 2 2 2 2</td>\n</tr>\n<tr data-sourcepos=\"97:1-97:9\">\n<td style=\"text-align: left\" data-sourcepos=\"97:2-97:3\">65</td>\n<td style=\"text-align: left\" data-sourcepos=\"97:5-97:8\">5 13</td>\n</tr>\n<tr data-sourcepos=\"98:1-98:11\">\n<td style=\"text-align: left\" data-sourcepos=\"98:2-98:3\">66</td>\n<td style=\"text-align: left\" data-sourcepos=\"98:5-98:10\">2 3 11</td>\n</tr>\n<tr data-sourcepos=\"99:1-99:7\">\n<td style=\"text-align: left\" data-sourcepos=\"99:2-99:3\">67</td>\n<td style=\"text-align: left\" data-sourcepos=\"99:5-99:6\">67</td>\n</tr>\n<tr data-sourcepos=\"100:1-100:11\">\n<td style=\"text-align: left\" data-sourcepos=\"100:2-100:3\">68</td>\n<td style=\"text-align: left\" data-sourcepos=\"100:5-100:10\">2 2 17</td>\n</tr>\n<tr data-sourcepos=\"101:1-101:9\">\n<td style=\"text-align: left\" data-sourcepos=\"101:2-101:3\">69</td>\n<td style=\"text-align: left\" data-sourcepos=\"101:5-101:8\">3 23</td>\n</tr>\n<tr data-sourcepos=\"102:1-102:10\">\n<td style=\"text-align: left\" data-sourcepos=\"102:2-102:3\">70</td>\n<td style=\"text-align: left\" data-sourcepos=\"102:5-102:9\">2 5 7</td>\n</tr>\n<tr data-sourcepos=\"103:1-103:7\">\n<td style=\"text-align: left\" data-sourcepos=\"103:2-103:3\">71</td>\n<td style=\"text-align: left\" data-sourcepos=\"103:5-103:6\">71</td>\n</tr>\n<tr data-sourcepos=\"104:1-104:14\">\n<td style=\"text-align: left\" data-sourcepos=\"104:2-104:3\">72</td>\n<td style=\"text-align: left\" data-sourcepos=\"104:5-104:13\">2 2 2 3 3</td>\n</tr>\n<tr data-sourcepos=\"105:1-105:7\">\n<td style=\"text-align: left\" data-sourcepos=\"105:2-105:3\">73</td>\n<td style=\"text-align: left\" data-sourcepos=\"105:5-105:6\">73</td>\n</tr>\n<tr data-sourcepos=\"106:1-106:9\">\n<td style=\"text-align: left\" data-sourcepos=\"106:2-106:3\">74</td>\n<td style=\"text-align: left\" data-sourcepos=\"106:5-106:8\">2 37</td>\n</tr>\n<tr data-sourcepos=\"107:1-107:10\">\n<td style=\"text-align: left\" data-sourcepos=\"107:2-107:3\">75</td>\n<td style=\"text-align: left\" data-sourcepos=\"107:5-107:9\">3 5 5</td>\n</tr>\n<tr data-sourcepos=\"108:1-108:11\">\n<td style=\"text-align: left\" data-sourcepos=\"108:2-108:3\">76</td>\n<td style=\"text-align: left\" data-sourcepos=\"108:5-108:10\">2 2 19</td>\n</tr>\n<tr data-sourcepos=\"109:1-109:9\">\n<td style=\"text-align: left\" data-sourcepos=\"109:2-109:3\">77</td>\n<td style=\"text-align: left\" data-sourcepos=\"109:5-109:8\">7 11</td>\n</tr>\n<tr data-sourcepos=\"110:1-110:11\">\n<td style=\"text-align: left\" data-sourcepos=\"110:2-110:3\">78</td>\n<td style=\"text-align: left\" data-sourcepos=\"110:5-110:10\">2 3 13</td>\n</tr>\n<tr data-sourcepos=\"111:1-111:7\">\n<td style=\"text-align: left\" data-sourcepos=\"111:2-111:3\">79</td>\n<td style=\"text-align: left\" data-sourcepos=\"111:5-111:6\">79</td>\n</tr>\n<tr data-sourcepos=\"112:1-112:14\">\n<td style=\"text-align: left\" data-sourcepos=\"112:2-112:3\">80</td>\n<td style=\"text-align: left\" data-sourcepos=\"112:5-112:13\">2 2 2 2 5</td>\n</tr>\n<tr data-sourcepos=\"113:1-113:12\">\n<td style=\"text-align: left\" data-sourcepos=\"113:2-113:3\">81</td>\n<td style=\"text-align: left\" data-sourcepos=\"113:5-113:11\">3 3 3 3</td>\n</tr>\n<tr data-sourcepos=\"114:1-114:9\">\n<td style=\"text-align: left\" data-sourcepos=\"114:2-114:3\">82</td>\n<td style=\"text-align: left\" data-sourcepos=\"114:5-114:8\">2 41</td>\n</tr>\n<tr data-sourcepos=\"115:1-115:7\">\n<td style=\"text-align: left\" data-sourcepos=\"115:2-115:3\">83</td>\n<td style=\"text-align: left\" data-sourcepos=\"115:5-115:6\">83</td>\n</tr>\n<tr data-sourcepos=\"116:1-116:12\">\n<td style=\"text-align: left\" data-sourcepos=\"116:2-116:3\">84</td>\n<td style=\"text-align: left\" data-sourcepos=\"116:5-116:11\">2 2 3 7</td>\n</tr>\n<tr data-sourcepos=\"117:1-117:9\">\n<td style=\"text-align: left\" data-sourcepos=\"117:2-117:3\">85</td>\n<td style=\"text-align: left\" data-sourcepos=\"117:5-117:8\">5 17</td>\n</tr>\n<tr data-sourcepos=\"118:1-118:9\">\n<td style=\"text-align: left\" data-sourcepos=\"118:2-118:3\">86</td>\n<td style=\"text-align: left\" data-sourcepos=\"118:5-118:8\">2 43</td>\n</tr>\n<tr data-sourcepos=\"119:1-119:9\">\n<td style=\"text-align: left\" data-sourcepos=\"119:2-119:3\">87</td>\n<td style=\"text-align: left\" data-sourcepos=\"119:5-119:8\">3 29</td>\n</tr>\n<tr data-sourcepos=\"120:1-120:13\">\n<td style=\"text-align: left\" data-sourcepos=\"120:2-120:3\">88</td>\n<td style=\"text-align: left\" data-sourcepos=\"120:5-120:12\">2 2 2 11</td>\n</tr>\n<tr data-sourcepos=\"121:1-121:7\">\n<td style=\"text-align: left\" data-sourcepos=\"121:2-121:3\">89</td>\n<td style=\"text-align: left\" data-sourcepos=\"121:5-121:6\">89</td>\n</tr>\n<tr data-sourcepos=\"122:1-122:12\">\n<td style=\"text-align: left\" data-sourcepos=\"122:2-122:3\">90</td>\n<td style=\"text-align: left\" data-sourcepos=\"122:5-122:11\">2 3 3 5</td>\n</tr>\n<tr data-sourcepos=\"123:1-123:9\">\n<td style=\"text-align: left\" data-sourcepos=\"123:2-123:3\">91</td>\n<td style=\"text-align: left\" data-sourcepos=\"123:5-123:8\">7 13</td>\n</tr>\n<tr data-sourcepos=\"124:1-124:11\">\n<td style=\"text-align: left\" data-sourcepos=\"124:2-124:3\">92</td>\n<td style=\"text-align: left\" data-sourcepos=\"124:5-124:10\">2 2 23</td>\n</tr>\n<tr data-sourcepos=\"125:1-125:9\">\n<td style=\"text-align: left\" data-sourcepos=\"125:2-125:3\">93</td>\n<td style=\"text-align: left\" data-sourcepos=\"125:5-125:8\">3 31</td>\n</tr>\n<tr data-sourcepos=\"126:1-126:9\">\n<td style=\"text-align: left\" data-sourcepos=\"126:2-126:3\">94</td>\n<td style=\"text-align: left\" data-sourcepos=\"126:5-126:8\">2 47</td>\n</tr>\n<tr data-sourcepos=\"127:1-127:9\">\n<td style=\"text-align: left\" data-sourcepos=\"127:2-127:3\">95</td>\n<td style=\"text-align: left\" data-sourcepos=\"127:5-127:8\">5 19</td>\n</tr>\n<tr data-sourcepos=\"128:1-128:16\">\n<td style=\"text-align: left\" data-sourcepos=\"128:2-128:3\">96</td>\n<td style=\"text-align: left\" data-sourcepos=\"128:5-128:15\">2 2 2 2 2 3</td>\n</tr>\n<tr data-sourcepos=\"129:1-129:7\">\n<td style=\"text-align: left\" data-sourcepos=\"129:2-129:3\">97</td>\n<td style=\"text-align: left\" data-sourcepos=\"129:5-129:6\">97</td>\n</tr>\n<tr data-sourcepos=\"130:1-130:10\">\n<td style=\"text-align: left\" data-sourcepos=\"130:2-130:3\">98</td>\n<td style=\"text-align: left\" data-sourcepos=\"130:5-130:9\">2 7 7</td>\n</tr>\n<tr data-sourcepos=\"131:1-131:11\">\n<td style=\"text-align: left\" data-sourcepos=\"131:2-131:3\">99</td>\n<td style=\"text-align: left\" data-sourcepos=\"131:5-131:10\">3 3 11</td>\n</tr>\n<tr data-sourcepos=\"132:1-132:12\">\n<td style=\"text-align: left\" data-sourcepos=\"132:2-132:4\">100</td>\n<td style=\"text-align: left\" data-sourcepos=\"132:6-132:12\">2 2 5 5</td>\n</tr>\n</tbody>\n</table>\n","body":"仕事の会議中に暇つぶしに作成したので、ここにさらしておきます。実用性はありません（´・ω・｀）\n\n100以下の自然数について、素因数分解するSQLです。MySQL8にて稼働確認をしています。\n\n```SQL\nWITH RECURSIVE \nnumbers(x) AS (\n    SELECT 2\n  UNION ALL\n    SELECT x+1 FROM numbers WHERE x < 100\n),\nfactors(x, y, i, divided) AS (\n    SELECT x, x, 2, 0 FROM numbers\n  UNION ALL\n    SELECT\n      x,\n      CASE WHEN y MOD i = 0 THEN y DIV i ELSE y   END, \n      CASE WHEN y MOD i = 0 THEN i       ELSE i+1 END,\n      CASE WHEN y MOD i = 0 THEN 1       ELSE 0   END\n    FROM factors\n    WHERE y > 1\n)\nSELECT x, GROUP_CONCAT(i ORDER BY i SEPARATOR ' ') AS primes\nFROM factors \nWHERE divided = 1\nGROUP BY x\nORDER BY x;\n```\n\n実行結果は以下の通りです。\n\n|x|primes|\n|:-|:-|\n|2|2|\n|3|3|\n|4|2 2|\n|5|5|\n|6|2 3|\n|7|7|\n|8|2 2 2|\n|9|3 3|\n|10|2 5|\n|11|11|\n|12|2 2 3|\n|13|13|\n|14|2 7|\n|15|3 5|\n|16|2 2 2 2|\n|17|17|\n|18|2 3 3|\n|19|19|\n|20|2 2 5|\n|21|3 7|\n|22|2 11|\n|23|23|\n|24|2 2 2 3|\n|25|5 5|\n|26|2 13|\n|27|3 3 3|\n|28|2 2 7|\n|29|29|\n|30|2 3 5|\n|31|31|\n|32|2 2 2 2 2|\n|33|3 11|\n|34|2 17|\n|35|5 7|\n|36|2 2 3 3|\n|37|37|\n|38|2 19|\n|39|3 13|\n|40|2 2 2 5|\n|41|41|\n|42|2 3 7|\n|43|43|\n|44|2 2 11|\n|45|3 3 5|\n|46|2 23|\n|47|47|\n|48|2 2 2 2 3|\n|49|7 7|\n|50|2 5 5|\n|51|3 17|\n|52|2 2 13|\n|53|53|\n|54|2 3 3 3|\n|55|5 11|\n|56|2 2 2 7|\n|57|3 19|\n|58|2 29|\n|59|59|\n|60|2 2 3 5|\n|61|61|\n|62|2 31|\n|63|3 3 7|\n|64|2 2 2 2 2 2|\n|65|5 13|\n|66|2 3 11|\n|67|67|\n|68|2 2 17|\n|69|3 23|\n|70|2 5 7|\n|71|71|\n|72|2 2 2 3 3|\n|73|73|\n|74|2 37|\n|75|3 5 5|\n|76|2 2 19|\n|77|7 11|\n|78|2 3 13|\n|79|79|\n|80|2 2 2 2 5|\n|81|3 3 3 3|\n|82|2 41|\n|83|83|\n|84|2 2 3 7|\n|85|5 17|\n|86|2 43|\n|87|3 29|\n|88|2 2 2 11|\n|89|89|\n|90|2 3 3 5|\n|91|7 13|\n|92|2 2 23|\n|93|3 31|\n|94|2 47|\n|95|5 19|\n|96|2 2 2 2 2 3|\n|97|97|\n|98|2 7 7|\n|99|3 3 11|\n|100|2 2 5 5\n","coediting":false,"comments_count":0,"created_at":"2023-09-30T08:55:49+09:00","group":null,"id":"0e36824ee87154b22616","likes_count":0,"private":false,"reactions_count":0,"stocks_count":0,"tags":[{"name":"MySQL","versions":[]}],"title":"素因数分解をMySQLで実装した","updated_at":"2023-09-30T08:55:49+09:00","url":"https://qiita.com/neko_the_shadow/items/0e36824ee87154b22616","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":38,"github_login_name":"nekoTheShadow","id":"neko_the_shadow","items_count":224,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://github.com/nekoTheShadow"},"page_views_count":219,"team_membership":null,"organization_url_name":null,"slide":false}