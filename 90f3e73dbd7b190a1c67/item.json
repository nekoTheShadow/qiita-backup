{"rendered_body":"<p data-sourcepos=\"1:1-1:154\">表題の通り、checkstyleをコマンドラインから実行し、循環的複雑度のレポートをXML形式で作成する手順を示します。</p>\n<p data-sourcepos=\"3:1-3:45\"><strong>① checkstyleのjarファイルの取得</strong></p>\n<p data-sourcepos=\"5:1-5:125\">GitHubのcheckstyleレポジトリのリリースページからcheckstyleのjarファイルをダウンロードします。</p>\n<p data-sourcepos=\"7:1-7:49\"><iframe id=\"qiita-embed-content__7de482aa95e5fa9fcf94601bce87ff59\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__7de482aa95e5fa9fcf94601bce87ff59\" data-content=\"https%3A%2F%2Fgithub.com%2Fcheckstyle%2Fcheckstyle%2Freleases\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\">\n</iframe>\n</p>\n<p data-sourcepos=\"9:1-9:121\"><a href=\"https://camo.qiitausercontent.com/6c504c70dfbbed467387fe58653c9b61b6b7ce5b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f33666662323039622d383730312d636234662d336138352d3765346266386433613839342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F3ffb209b-8701-cb4f-3a85-7e4bf8d3a894.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fade2579bf8dc3a2664b6eff7434b887\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/3ffb209b-8701-cb4f-3a85-7e4bf8d3a894.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F3ffb209b-8701-cb4f-3a85-7e4bf8d3a894.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d5454b1655bdc969b8c1edff8273387d 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"11:1-11:38\"><strong>② 設定XMLファイルの作成</strong></p>\n<p data-sourcepos=\"13:1-13:60\">以下のような設定XMLファイルを準備します。</p>\n<div class=\"code-frame\" data-lang=\"xml\" data-sourcepos=\"15:1-25:3\"><div class=\"highlight\"><pre><code><span class=\"cp\">&lt;?xml version=\"1.0\"?&gt;</span>\n<span class=\"cp\">&lt;!DOCTYPE module PUBLIC \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\" \"https://checkstyle.org/dtds/configuration_1_3.dtd\"&gt;</span>\n<span class=\"nt\">&lt;module</span> <span class=\"na\">name =</span> <span class=\"s\">\"Checker\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;module</span> <span class=\"na\">name=</span><span class=\"s\">\"TreeWalker\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;module</span> <span class=\"na\">name=</span><span class=\"s\">\"CyclomaticComplexity\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;property</span> <span class=\"na\">name=</span><span class=\"s\">\"max\"</span> <span class=\"na\">value=</span><span class=\"s\">\"0\"</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/module&gt;</span>\n  <span class=\"nt\">&lt;/module&gt;</span>\n<span class=\"nt\">&lt;/module&gt;</span>\n</code></pre></div></div>\n<p data-sourcepos=\"27:1-27:266\">循環的複雑度以外の情報は不要なため、循環的複雑度用の設定だけを記載しています。また、max=0とすることで、循環的複雑度の値にかかわらず、すべてのメソッドの循環的複雑度を取得できます。</p>\n<p data-sourcepos=\"29:1-29:27\"><strong>③ checkstyleの実行</strong></p>\n<p data-sourcepos=\"31:1-31:97\">checkstyleコマンドラインから実行して、XML形式のレポートを作成します。</p>\n<div class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"33:1-39:3\"><div class=\"highlight\"><pre><code>java -jar path\\to\\checkstyle-10.12.5-all.jar ^\n     -c   path\\to\\config.xml ^\n     -f   xml ^\n     -o   path\\to\\cc_report.xml ^\n     path\\to\\source\n</code></pre></div></div>\n<p data-sourcepos=\"41:1-41:42\">実行結果は次のようになります</p>\n<div class=\"code-frame\" data-lang=\"xml\" data-sourcepos=\"43:1-54:3\">\n<div class=\"code-lang\"><span class=\"bold\">path\\to\\report.xml</span></div>\n<div class=\"highlight\"><pre><code><span class=\"cp\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span>\n<span class=\"nt\">&lt;checkstyle</span> <span class=\"na\">version=</span><span class=\"s\">\"10.12.5\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;file</span> <span class=\"na\">name=</span><span class=\"s\">\"path\\to\\source\\package001\\A001.java\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;error</span> <span class=\"na\">line=</span><span class=\"s\">\"11\"</span> <span class=\"na\">column=</span><span class=\"s\">\"1\"</span> <span class=\"na\">severity=</span><span class=\"s\">\"error\"</span> <span class=\"na\">message=</span><span class=\"s\">\"循環的複雑度が 1 （最大 0 まで）です。\"</span> <span class=\"na\">source=</span><span class=\"s\">\"com.puppycrawl.tools.checkstyle.checks.metrics.CyclomaticComplexityCheck\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/file&gt;</span>\n  <span class=\"nt\">&lt;file</span> <span class=\"na\">name=</span><span class=\"s\">\"path\\to\\source\\package002\\B002.java\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;error</span> <span class=\"na\">line=</span><span class=\"s\">\"22\"</span> <span class=\"na\">column=</span><span class=\"s\">\"2\"</span> <span class=\"na\">severity=</span><span class=\"s\">\"error\"</span> <span class=\"na\">message=</span><span class=\"s\">\"循環的複雑度が 2 （最大 0 まで）です。\"</span> <span class=\"na\">source=</span><span class=\"s\">\"com.puppycrawl.tools.checkstyle.checks.metrics.CyclomaticComplexityCheck\"</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;error</span> <span class=\"na\">line=</span><span class=\"s\">\"33\"</span> <span class=\"na\">column=</span><span class=\"s\">\"3\"</span> <span class=\"na\">severity=</span><span class=\"s\">\"error\"</span> <span class=\"na\">message=</span><span class=\"s\">\"循環的複雑度が 3 （最大 0 まで）です。\"</span> <span class=\"na\">source=</span><span class=\"s\">\"com.puppycrawl.tools.checkstyle.checks.metrics.CyclomaticComplexityCheck\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/file&gt;</span>\n<span class=\"nt\">&lt;/checkstyle&gt;</span>\n</code></pre></div>\n</div>\n","body":"表題の通り、checkstyleをコマンドラインから実行し、循環的複雑度のレポートをXML形式で作成する手順を示します。\n\n**① checkstyleのjarファイルの取得**\n\nGitHubのcheckstyleレポジトリのリリースページからcheckstyleのjarファイルをダウンロードします。\n\nhttps://github.com/checkstyle/checkstyle/releases\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/3ffb209b-8701-cb4f-3a85-7e4bf8d3a894.png)\n\n**② 設定XMLファイルの作成**\n\n以下のような設定XMLファイルを準備します。\n\n```xml:\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\" \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name = \"Checker\">\n  <module name=\"TreeWalker\">\n    <module name=\"CyclomaticComplexity\">\n      <property name=\"max\" value=\"0\"/>\n    </module>\n  </module>\n</module>\n```\n\n循環的複雑度以外の情報は不要なため、循環的複雑度用の設定だけを記載しています。また、max=0とすることで、循環的複雑度の値にかかわらず、すべてのメソッドの循環的複雑度を取得できます。\n\n**③ checkstyleの実行**\n\ncheckstyleコマンドラインから実行して、XML形式のレポートを作成します。\n\n```\njava -jar path\\to\\checkstyle-10.12.5-all.jar ^\n     -c   path\\to\\config.xml ^\n     -f   xml ^\n     -o   path\\to\\cc_report.xml ^\n     path\\to\\source\n```\n\n実行結果は次のようになります\n\n```xml:path\\to\\report.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<checkstyle version=\"10.12.5\">\n  <file name=\"path\\to\\source\\package001\\A001.java\">\n    <error line=\"11\" column=\"1\" severity=\"error\" message=\"循環的複雑度が 1 （最大 0 まで）です。\" source=\"com.puppycrawl.tools.checkstyle.checks.metrics.CyclomaticComplexityCheck\"/>\n  </file>\n  <file name=\"path\\to\\source\\package002\\B002.java\">\n    <error line=\"22\" column=\"2\" severity=\"error\" message=\"循環的複雑度が 2 （最大 0 まで）です。\" source=\"com.puppycrawl.tools.checkstyle.checks.metrics.CyclomaticComplexityCheck\"/>\n    <error line=\"33\" column=\"3\" severity=\"error\" message=\"循環的複雑度が 3 （最大 0 まで）です。\" source=\"com.puppycrawl.tools.checkstyle.checks.metrics.CyclomaticComplexityCheck\"/>\n  </file>\n</checkstyle>\n```\n\n","coediting":false,"comments_count":0,"created_at":"2023-11-26T11:28:16+09:00","group":null,"id":"90f3e73dbd7b190a1c67","likes_count":0,"private":false,"reactions_count":0,"stocks_count":0,"tags":[{"name":"Java","versions":[]},{"name":"checkstyle","versions":[]}],"title":"checkstyleをコマンドラインから実行し、循環的複雑度のレポートをXML形式で作成する","updated_at":"2023-11-26T11:28:16+09:00","url":"https://qiita.com/neko_the_shadow/items/90f3e73dbd7b190a1c67","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":38,"github_login_name":"nekoTheShadow","id":"neko_the_shadow","items_count":224,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://github.com/nekoTheShadow"},"page_views_count":300,"team_membership":null,"organization_url_name":null,"slide":false}