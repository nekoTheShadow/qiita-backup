{"rendered_body":"<p>風の噂によれば、世の中には「DOM操作を多用するが、jQueryは禁止」という開発現場があるそうです(血涙)</p>\n\n<p>まずはjsonをPOSTする例。</p>\n\n<div class=\"code-frame\" data-lang=\"js\"><div class=\"highlight\"><pre><span class=\"c1\">// jsonの準備</span>\n<span class=\"kd\">var</span> <span class=\"nx\">json</span> <span class=\"o\">=</span> <span class=\"p\">{};</span>\n<span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"dl\">\"</span><span class=\"s2\">nekoTheShadow</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n<span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">job</span> <span class=\"o\">=</span> <span class=\"dl\">\"</span><span class=\"s2\">SystemsEngneer</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n\n<span class=\"c1\">// XMLHttpRequestオブジェクトの生成</span>\n<span class=\"kd\">var</span> <span class=\"nx\">xhr</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">XMLHttpRequest</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// methodとurlを指定</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">open</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">POST</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"dl\">\"</span><span class=\"s2\">/post/json</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// イベントリスナを設定</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">progress</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){});</span> <span class=\"c1\">// 通信中</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">load</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){});</span> <span class=\"c1\">// 通信成功</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">error</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){});</span> <span class=\"c1\">// 通信失敗</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">abort</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){});</span> <span class=\"c1\">// 通信をキャンセル</span>\n\n<span class=\"c1\">// Content-Typeを設定</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">setRequestHeader</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">Content-Type</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"dl\">\"</span><span class=\"s2\">application/json</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// 送信</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">json</span><span class=\"p\">));</span>\n</pre></div></div>\n\n<p>次は普通(?)にPOSTする例:</p>\n\n<div class=\"code-frame\" data-lang=\"js\"><div class=\"highlight\"><pre>\n<span class=\"c1\">// 送信するデータの準備</span>\n<span class=\"kd\">var</span> <span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"dl\">\"</span><span class=\"s2\">name=nekoTheShadow&amp;job=SystemsEngneer</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n\n<span class=\"c1\">// XMLHttpRequestオブジェクトの生成</span>\n<span class=\"kd\">var</span> <span class=\"nx\">xhr</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">XMLHttpRequest</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// methodとurlを指定</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">open</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">POST</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"dl\">\"</span><span class=\"s2\">/post/json</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// イベントリスナを設定</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">progress</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){});</span> <span class=\"c1\">// 通信中</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">load</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){});</span> <span class=\"c1\">// 通信成功</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">error</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){});</span> <span class=\"c1\">// 通信失敗</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">abort</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(){});</span> <span class=\"c1\">// 通信をキャンセル</span>\n\n<span class=\"c1\">// Content-Typeを設定</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">setRequestHeader</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">Content-Type</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"dl\">\"</span><span class=\"s2\">application/x-www-form-urlencoded</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// 送信</span>\n<span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">);</span>\n</pre></div></div>\n\n<p>ご査収ください(´・ω・`)</p>\n","body":"風の噂によれば、世の中には「DOM操作を多用するが、jQueryは禁止」という開発現場があるそうです(血涙)\n\nまずはjsonをPOSTする例。\n\n```js\n// jsonの準備\nvar json = {};\njson.name = \"nekoTheShadow\";\njson.job = \"SystemsEngneer\";\n\n// XMLHttpRequestオブジェクトの生成\nvar xhr = new XMLHttpRequest();\n\n// methodとurlを指定\nxhr.open(\"POST\", \"/post/json\");\n\n// イベントリスナを設定\nxhr.addEventListener(\"progress\", function(){}); // 通信中\nxhr.addEventListener(\"load\", function(){}); // 通信成功\nxhr.addEventListener(\"error\", function(){}); // 通信失敗\nxhr.addEventListener(\"abort\", function(){}); // 通信をキャンセル\n\n// Content-Typeを設定\nxhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n// 送信\nxhr.send(JSON.stringify(json));\n```\n\n次は普通(?)にPOSTする例:\n\n```js\n\n// 送信するデータの準備\nvar data = \"name=nekoTheShadow&job=SystemsEngneer\";\n\n// XMLHttpRequestオブジェクトの生成\nvar xhr = new XMLHttpRequest();\n\n// methodとurlを指定\nxhr.open(\"POST\", \"/post/json\");\n\n// イベントリスナを設定\nxhr.addEventListener(\"progress\", function(){}); // 通信中\nxhr.addEventListener(\"load\", function(){}); // 通信成功\nxhr.addEventListener(\"error\", function(){}); // 通信失敗\nxhr.addEventListener(\"abort\", function(){}); // 通信をキャンセル\n\n// Content-Typeを設定\nxhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n// 送信\nxhr.send(data);\n```\n\nご査収ください(´・ω・`)\n","coediting":false,"comments_count":2,"created_at":"2016-07-26T22:04:00+09:00","group":null,"id":"79ad4e0bbac0444a7222","likes_count":16,"private":false,"reactions_count":0,"tags":[{"name":"JavaScript","versions":[]}],"title":"jQueryを利用せずにAjaxを利用するサンプル","updated_at":"2016-07-26T22:04:00+09:00","url":"https://qiita.com/neko_the_shadow/items/79ad4e0bbac0444a7222","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":33,"github_login_name":null,"id":"neko_the_shadow","items_count":171,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":null}