{"rendered_body":"<p data-sourcepos=\"1:1-1:102\">Go言語では標準ライブラリだけで、gzipファイルを解凍することができます。</p>\n<p data-sourcepos=\"3:1-3:112\">以下は<code>./access.log.gz</code>ファイルを解凍し、<code>./access.log</code>に保存するサンプルコードです。</p>\n<div class=\"code-frame\" data-lang=\"go\" data-sourcepos=\"5:1-30:3\"><div class=\"highlight\"><pre><code><span class=\"n\">srcPath</span> <span class=\"o\">:=</span> <span class=\"s\">\"./access.log.gz\"</span>\n<span class=\"n\">dstPath</span> <span class=\"o\">:=</span> <span class=\"s\">\"./access.log\"</span>\n\n<span class=\"n\">src</span><span class=\"p\">,</span> <span class=\"n\">err</span> <span class=\"o\">:=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">Open</span><span class=\"p\">(</span><span class=\"n\">srcPath</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">err</span> <span class=\"o\">!=</span> <span class=\"no\">nil</span> <span class=\"p\">{</span>\n\t<span class=\"nb\">panic</span><span class=\"p\">(</span><span class=\"n\">err</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n<span class=\"k\">defer</span> <span class=\"n\">src</span><span class=\"o\">.</span><span class=\"n\">Close</span><span class=\"p\">()</span>\n\n<span class=\"n\">gr</span><span class=\"p\">,</span> <span class=\"n\">err</span> <span class=\"o\">:=</span> <span class=\"n\">gzip</span><span class=\"o\">.</span><span class=\"n\">NewReader</span><span class=\"p\">(</span><span class=\"n\">src</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">err</span> <span class=\"o\">!=</span> <span class=\"no\">nil</span> <span class=\"p\">{</span>\n\t<span class=\"nb\">panic</span><span class=\"p\">(</span><span class=\"n\">err</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n<span class=\"k\">defer</span> <span class=\"n\">gr</span><span class=\"o\">.</span><span class=\"n\">Close</span><span class=\"p\">()</span>\n\n<span class=\"n\">dst</span><span class=\"p\">,</span> <span class=\"n\">err</span> <span class=\"o\">:=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">Create</span><span class=\"p\">(</span><span class=\"n\">dstPath</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">err</span> <span class=\"o\">!=</span> <span class=\"no\">nil</span> <span class=\"p\">{</span>\n\t<span class=\"nb\">panic</span><span class=\"p\">(</span><span class=\"n\">err</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n<span class=\"k\">defer</span> <span class=\"n\">dst</span><span class=\"o\">.</span><span class=\"n\">Close</span><span class=\"p\">()</span>\n\n<span class=\"k\">if</span> <span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">err</span> <span class=\"o\">:=</span> <span class=\"n\">io</span><span class=\"o\">.</span><span class=\"n\">Copy</span><span class=\"p\">(</span><span class=\"n\">dst</span><span class=\"p\">,</span> <span class=\"n\">gr</span><span class=\"p\">);</span> <span class=\"n\">err</span> <span class=\"o\">!=</span> <span class=\"no\">nil</span> <span class=\"p\">{</span>\n\t<span class=\"nb\">panic</span><span class=\"p\">(</span><span class=\"n\">err</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div></div>\n<p data-sourcepos=\"32:1-32:16\"><strong>環境情報</strong></p>\n<div class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"34:1-37:3\"><div class=\"highlight\"><pre><code>$ go version\ngo version go1.19 linux/amd64\n</code></pre></div></div>\n","body":"Go言語では標準ライブラリだけで、gzipファイルを解凍することができます。\n\n以下は`./access.log.gz`ファイルを解凍し、`./access.log`に保存するサンプルコードです。\n\n```go\nsrcPath := \"./access.log.gz\"\ndstPath := \"./access.log\"\n\nsrc, err := os.Open(srcPath)\nif err != nil {\n\tpanic(err)\n}\ndefer src.Close()\n\ngr, err := gzip.NewReader(src)\nif err != nil {\n\tpanic(err)\n}\ndefer gr.Close()\n\ndst, err := os.Create(dstPath)\nif err != nil {\n\tpanic(err)\n}\ndefer dst.Close()\n\nif _, err := io.Copy(dst, gr); err != nil {\n\tpanic(err)\n}\n```\n\n**環境情報**\n\n```\n$ go version\ngo version go1.19 linux/amd64\n```\n","coediting":false,"comments_count":0,"created_at":"2023-04-24T23:44:15+09:00","group":null,"id":"899a4f5a9642c1154176","likes_count":0,"private":false,"reactions_count":0,"stocks_count":0,"tags":[{"name":"Go","versions":[]}],"title":"Go言語でgzipファイルを解凍したい","updated_at":"2023-04-24T23:44:15+09:00","url":"https://qiita.com/neko_the_shadow/items/899a4f5a9642c1154176","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":37,"github_login_name":null,"id":"neko_the_shadow","items_count":216,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://github.com/nekoTheShadow"},"page_views_count":594,"team_membership":null,"organization_url_name":null,"slide":false}