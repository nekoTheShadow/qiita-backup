{"rendered_body":"<p>2017年2月24日金曜日から始まったプレミアムフライデー。賛否両論激しいシステムですが、何がともあれ休みが増えることはよいことですね。みなさんは初のプレミアムフライデーは午後3時に退社できましたか? <strong>わたしはできませんでした(´・ω・｀)</strong>  定時退社すらできなかったぜふぁっきん(´・ω・｀)</p>\n\n<p>そこで(?)プレミアムフライデーを計算するメソッドを作っておきました。ご活用ください。</p>\n\n<div class=\"code-frame\" data-lang=\"java\"><div class=\"highlight\"><pre>\n<span class=\"kn\">import</span> <span class=\"nn\">java.util.Calendar</span><span class=\"o\">;</span>\n\n<span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">PremiumFridayUtils</span> <span class=\"o\">{</span>\n\n    <span class=\"cm\">/**\n     * 指定した月のプレミアムフライデーの日を求める。プレミアムフライデーが存在しない月の場合は-1を返す。\n     * @param year 年 (1..*)\n     * @param month 月 (1..12)\n     * @return 指定した月のプレミアムフライデーの日 (1..31)\n     */</span>\n    <span class=\"kd\">public</span> <span class=\"kd\">static</span> <span class=\"kt\">int</span> <span class=\"nf\">getPremiumFriday</span><span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">year</span><span class=\"o\">,</span> <span class=\"kt\">int</span> <span class=\"n\">month</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n        <span class=\"c1\">// yearは正の数、monthは1以上12以下をそれぞれ満たす必要がある。</span>\n        <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">year</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"n\">month</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"n\">month</span> <span class=\"o\">&gt;</span> <span class=\"mi\">12</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"k\">throw</span> <span class=\"k\">new</span> <span class=\"nf\">IllegalArgumentException</span><span class=\"o\">();</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"c1\">// プレミアムフライデーの実施は2017年02月以降。</span>\n        <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">year</span> <span class=\"o\">&lt;</span> <span class=\"mi\">2017</span> <span class=\"o\">||</span> <span class=\"o\">(</span><span class=\"n\">year</span> <span class=\"o\">==</span> <span class=\"mi\">2017</span> <span class=\"o\">&amp;&amp;</span> <span class=\"n\">month</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"o\">))</span> <span class=\"o\">{</span>\n            <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"o\">;</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"c1\">// 対象の月の最終日から1日づつ金曜日かどうか判定し、最初に金曜日と判定された日が</span>\n        <span class=\"c1\">// その月の最終金曜日=プレミアムフライデーとなる。</span>\n        <span class=\"nc\">Calendar</span> <span class=\"n\">calendar</span> <span class=\"o\">=</span> <span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">getInstance</span><span class=\"o\">();</span>\n        <span class=\"n\">calendar</span><span class=\"o\">.</span><span class=\"na\">clear</span><span class=\"o\">();</span>\n        <span class=\"n\">calendar</span><span class=\"o\">.</span><span class=\"na\">set</span><span class=\"o\">(</span><span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">YEAR</span><span class=\"o\">,</span> <span class=\"n\">year</span><span class=\"o\">);</span>\n        <span class=\"n\">calendar</span><span class=\"o\">.</span><span class=\"na\">set</span><span class=\"o\">(</span><span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">MONTH</span><span class=\"o\">,</span> <span class=\"n\">month</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"o\">);</span>\n        <span class=\"n\">calendar</span><span class=\"o\">.</span><span class=\"na\">set</span><span class=\"o\">(</span><span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">DATE</span><span class=\"o\">,</span> <span class=\"n\">calendar</span><span class=\"o\">.</span><span class=\"na\">getActualMaximum</span><span class=\"o\">(</span><span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">DATE</span><span class=\"o\">));</span>\n\n        <span class=\"k\">while</span> <span class=\"o\">(</span><span class=\"n\">calendar</span><span class=\"o\">.</span><span class=\"na\">get</span><span class=\"o\">(</span><span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">DAY_OF_WEEK</span><span class=\"o\">)</span> <span class=\"o\">!=</span> <span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">FRIDAY</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">calendar</span><span class=\"o\">.</span><span class=\"na\">add</span><span class=\"o\">(</span><span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">DATE</span><span class=\"o\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"o\">);</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">calendar</span><span class=\"o\">.</span><span class=\"na\">get</span><span class=\"o\">(</span><span class=\"nc\">Calendar</span><span class=\"o\">.</span><span class=\"na\">DAY_OF_MONTH</span><span class=\"o\">);</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"kd\">public</span> <span class=\"kd\">static</span> <span class=\"kt\">void</span> <span class=\"nf\">main</span><span class=\"o\">(</span><span class=\"nc\">String</span><span class=\"o\">[]</span> <span class=\"n\">args</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n        <span class=\"c1\">// 2017-2019年のプレミアムフライデーを求めて出力する。</span>\n        <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">year</span> <span class=\"o\">:</span> <span class=\"k\">new</span> <span class=\"kt\">int</span><span class=\"o\">[]{</span><span class=\"mi\">2017</span><span class=\"o\">,</span> <span class=\"mi\">2018</span><span class=\"o\">,</span> <span class=\"mi\">2019</span><span class=\"o\">})</span> <span class=\"o\">{</span>\n            <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">month</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"o\">;</span> <span class=\"n\">month</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">12</span><span class=\"o\">;</span> <span class=\"n\">month</span><span class=\"o\">++)</span> <span class=\"o\">{</span>\n                <span class=\"kt\">int</span> <span class=\"n\">day</span> <span class=\"o\">=</span> <span class=\"nc\">PremiumFridayUtils</span><span class=\"o\">.</span><span class=\"na\">getPremiumFriday</span><span class=\"o\">(</span><span class=\"n\">year</span><span class=\"o\">,</span> <span class=\"n\">month</span><span class=\"o\">);</span>\n                <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">day</span> <span class=\"o\">!=</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n                    <span class=\"nc\">System</span><span class=\"o\">.</span><span class=\"na\">out</span><span class=\"o\">.</span><span class=\"na\">printf</span><span class=\"o\">(</span><span class=\"s\">\"%d-%02d-%02d\\n\"</span><span class=\"o\">,</span> <span class=\"n\">year</span><span class=\"o\">,</span> <span class=\"n\">month</span><span class=\"o\">,</span> <span class=\"n\">day</span><span class=\"o\">);</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n<span class=\"cm\">/*\n2017-02-24\n2017-03-31\n2017-04-28\n2017-05-26\n2017-06-30\n2017-07-28\n2017-08-25\n2017-09-29\n2017-10-27\n2017-11-24\n2017-12-29\n2018-01-26\n2018-02-23\n2018-03-30\n2018-04-27\n2018-05-25\n2018-06-29\n2018-07-27\n2018-08-31\n2018-09-28\n2018-10-26\n2018-11-30\n2018-12-28\n2019-01-25\n2019-02-22\n2019-03-29\n2019-04-26\n2019-05-31\n2019-06-28\n2019-07-26\n2019-08-30\n2019-09-27\n2019-10-25\n2019-11-29\n2019-12-27\n*/</span>\n\n</pre></div></div>\n","body":"\n2017年2月24日金曜日から始まったプレミアムフライデー。賛否両論激しいシステムですが、何がともあれ休みが増えることはよいことですね。みなさんは初のプレミアムフライデーは午後3時に退社できましたか? __わたしはできませんでした(´・ω・｀)__  定時退社すらできなかったぜふぁっきん(´・ω・｀)\n\nそこで(?)プレミアムフライデーを計算するメソッドを作っておきました。ご活用ください。\n\n```java\n\nimport java.util.Calendar;\n\npublic class PremiumFridayUtils {\n    \n    /**\n     * 指定した月のプレミアムフライデーの日を求める。プレミアムフライデーが存在しない月の場合は-1を返す。\n     * @param year 年 (1..*)\n     * @param month 月 (1..12)\n     * @return 指定した月のプレミアムフライデーの日 (1..31)\n     */\n    public static int getPremiumFriday(int year, int month) {\n        // yearは正の数、monthは1以上12以下をそれぞれ満たす必要がある。\n        if (year < 1 || month < 1 || month > 12) {\n            throw new IllegalArgumentException();\n        }\n        \n        // プレミアムフライデーの実施は2017年02月以降。\n        if (year < 2017 || (year == 2017 && month == 1)) {\n            return -1;\n        }\n        \n        // 対象の月の最終日から1日づつ金曜日かどうか判定し、最初に金曜日と判定された日が\n        // その月の最終金曜日=プレミアムフライデーとなる。\n        Calendar calendar = Calendar.getInstance();\n        calendar.clear();\n        calendar.set(Calendar.YEAR, year);\n        calendar.set(Calendar.MONTH, month - 1);\n        calendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DATE));\n        \n        while (calendar.get(Calendar.DAY_OF_WEEK) != Calendar.FRIDAY) {\n            calendar.add(Calendar.DATE, -1);\n        }\n        \n        return calendar.get(Calendar.DAY_OF_MONTH);\n    }\n        \n    public static void main(String[] args) {\n        // 2017-2019年のプレミアムフライデーを求めて出力する。\n        for (int year : new int[]{2017, 2018, 2019}) {\n            for (int month = 1; month <= 12; month++) {\n                int day = PremiumFridayUtils.getPremiumFriday(year, month);\n                if (day != -1) {\n                    System.out.printf(\"%d-%02d-%02d\\n\", year, month, day);\n                }\n            }\n        }\n    }\n}\n/*\n2017-02-24\n2017-03-31\n2017-04-28\n2017-05-26\n2017-06-30\n2017-07-28\n2017-08-25\n2017-09-29\n2017-10-27\n2017-11-24\n2017-12-29\n2018-01-26\n2018-02-23\n2018-03-30\n2018-04-27\n2018-05-25\n2018-06-29\n2018-07-27\n2018-08-31\n2018-09-28\n2018-10-26\n2018-11-30\n2018-12-28\n2019-01-25\n2019-02-22\n2019-03-29\n2019-04-26\n2019-05-31\n2019-06-28\n2019-07-26\n2019-08-30\n2019-09-27\n2019-10-25\n2019-11-29\n2019-12-27\n*/\n\n```\n","coediting":false,"comments_count":0,"created_at":"2017-02-26T22:08:21+09:00","group":null,"id":"4ebf94a8a6d9282e7207","likes_count":12,"private":false,"reactions_count":0,"tags":[{"name":"Java","versions":[]}],"title":"プレミアムフライデーを求めるメソッドを作った","updated_at":"2017-02-26T22:09:34+09:00","url":"https://qiita.com/neko_the_shadow/items/4ebf94a8a6d9282e7207","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":35,"github_login_name":null,"id":"neko_the_shadow","items_count":180,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":null}