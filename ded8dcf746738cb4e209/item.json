{"rendered_body":"<p>Gauche(0.9.4)でプログラミング中、無限大の対数をとるという処理を行ったところ、Assertion failedなるエラーが発生、<strong>Gauche自体が終了してしまう</strong>という状況に陥りました。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>gosh&gt; (log +inf.0)\n\"libnum.scm\", line 347 (libnum_25log): Assertion failed: SCM_BIGNUMP(x)\n</pre></div></div>\n\n<p>これがGaucheの仕様なのか、予期せぬエラーなのか、正直なところよくわからないのですが、どうやら無限の対数を求めた場合、Assertion failedを引き起こすようです。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>gosh&gt; (log +inf.0)\n\"libnum.scm\", line 347 (libnum_25log): Assertion failed: SCM_BIGNUMP(x)\n\ngosh&gt; (log -inf.0)\n\"libnum.scm\", line 347 (libnum_25log): Assertion failed: SCM_BIGNUMP(x)\n</pre></div></div>\n\n<p>ちなみにPython(3.5.1)ではどうなっているかというと……</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>&gt;&gt;&gt; import math\n&gt;&gt;&gt; math.log(float('inf'))\ninf\n&gt;&gt;&gt; math.log(-float('inf'))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nValueError: math domain error\n</pre></div></div>\n\n<p>負の無限大だけ、エラーが出るようですね。<strong>ただしPython自体は終了しません。</strong>通常の例外として処理されているようです。</p>\n\n<p>ちなみにPythonについては$log(0)$を求めようとすると、例外が発生します。一方Gaucheでは負の無限大に発散すると解釈するようです。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>&gt;&gt;&gt; math.log(0)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nValueError: math domain error\n</pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>gosh&gt; (log 0)\n-inf.0\n</pre></div></div>\n\n<p>ゼロや無限大関係はややこしいですね(´・ω・`)</p>\n","body":"Gauche(0.9.4)でプログラミング中、無限大の対数をとるという処理を行ったところ、Assertion failedなるエラーが発生、__Gauche自体が終了してしまう__という状況に陥りました。\n\n```\ngosh> (log +inf.0)\n\"libnum.scm\", line 347 (libnum_25log): Assertion failed: SCM_BIGNUMP(x)\n```\n\nこれがGaucheの仕様なのか、予期せぬエラーなのか、正直なところよくわからないのですが、どうやら無限の対数を求めた場合、Assertion failedを引き起こすようです。\n\n```\ngosh> (log +inf.0)\n\"libnum.scm\", line 347 (libnum_25log): Assertion failed: SCM_BIGNUMP(x)\n\ngosh> (log -inf.0)\n\"libnum.scm\", line 347 (libnum_25log): Assertion failed: SCM_BIGNUMP(x)\n```\n\nちなみにPython(3.5.1)ではどうなっているかというと……\n\n```\n>>> import math\n>>> math.log(float('inf'))\ninf\n>>> math.log(-float('inf'))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nValueError: math domain error\n```\n\n負の無限大だけ、エラーが出るようですね。__ただしPython自体は終了しません。__通常の例外として処理されているようです。\n\nちなみにPythonについては$log(0)$を求めようとすると、例外が発生します。一方Gaucheでは負の無限大に発散すると解釈するようです。\n\n```\n>>> math.log(0)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nValueError: math domain error\n```\n\n```\ngosh> (log 0)\n-inf.0\n```\n\nゼロや無限大関係はややこしいですね(´・ω・`)\n","coediting":false,"comments_count":1,"created_at":"2016-05-03T22:16:54+09:00","group":null,"id":"ded8dcf746738cb4e209","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"Scheme","versions":[]},{"name":"Gauche","versions":[]}],"title":"Gauche(0.9.4)とPython(3.5.1)で「logと無限大の関係」を比較する","updated_at":"2016-05-03T22:18:11+09:00","url":"https://qiita.com/neko_the_shadow/items/ded8dcf746738cb4e209","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":32,"github_login_name":null,"id":"neko_the_shadow","items_count":162,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":null}