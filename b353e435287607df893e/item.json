{"rendered_body":"<p data-sourcepos=\"1:1-1:160\">デッドロックを調査するにあたって、SSMSを利用することがあったので、手順を自分用にまとめておきたいと思います。</p>\n<p data-sourcepos=\"3:1-3:178\">① オブジェクトエクスプローラーで、調査対象のDB &gt; 管理 &gt; 拡張イベント &gt; セッション &gt; system_health &gt; packageX.event_file を選択します。</p>\n<p data-sourcepos=\"5:1-5:161\"><a href=\"https://camo.qiitausercontent.com/c16015e6decf1b99d0bd3160230f35c14fdc6267/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f66643732353561302d636365302d333438322d353038372d3139636531613862666364312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ffd7255a0-cce0-3482-5087-19ce1a8bfcd1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4c60e938744804adada1b6ace2953f77\" alt=\"スクリーンショット 2022-10-19 182628.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/fd7255a0-cce0-3482-5087-19ce1a8bfcd1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ffd7255a0-cce0-3482-5087-19ce1a8bfcd1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6046fd263eb6c4c2e476995ed4db85c2 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"8:1-8:238\">② イベントの一覧が表示されるので、ここから対象のデッドロックイベントを探します。目検してもよいのですが、イベント数が多い場合はフィルタリング機能を利用します。</p>\n<p data-sourcepos=\"10:1-10:121\"><a href=\"https://camo.qiitausercontent.com/92e8f6a262708ac41e1ea05abf7a031f2cb04972/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f32363136353065332d363166332d313132352d666130302d3161333961343139316662632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F261650e3-61f3-1125-fa00-1a39a4191fbc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fc29171c108bfc70d97ecb83804df9f0\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/261650e3-61f3-1125-fa00-1a39a4191fbc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F261650e3-61f3-1125-fa00-1a39a4191fbc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a988b796b0f1a6002aac820da8f89bed 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"13:1-13:62\">③ 拡張イベント &gt; フィルター を選択します。</p>\n<p data-sourcepos=\"15:1-15:121\"><a href=\"https://camo.qiitausercontent.com/ccca4d3969fdadc734fa6035ac4f3c209fd1ea20/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f65303039326431372d323031332d346236652d626161652d6661396365363834316561362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Fe0092d17-2013-4b6e-baae-fa9ce6841ea6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fce3aceed15b039e426e9197cbc92f72\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/e0092d17-2013-4b6e-baae-fa9ce6841ea6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Fe0092d17-2013-4b6e-baae-fa9ce6841ea6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b65341efc1f9f71bdf126aefe63a1358 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"17:1-17:57\">④ 以下を入力し、OKボタンを押下します。</p>\n<ul data-sourcepos=\"19:1-22:0\">\n<li data-sourcepos=\"19:1-19:23\">フィールド: name</li>\n<li data-sourcepos=\"20:1-20:14\">演算子: =</li>\n<li data-sourcepos=\"21:1-22:0\">値: xml_deadlock_report</li>\n</ul>\n<p data-sourcepos=\"23:1-23:121\"><a href=\"https://camo.qiitausercontent.com/ce733495103857689265839b371035ee9baf2679/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f31303132653731642d313661362d666264312d356362382d3835383732666631366265392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F1012e71d-16a6-fbd1-5cb8-85872ff16be9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4aab8b305ae7ef15cdcb57ee9a05ace8\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/1012e71d-16a6-fbd1-5cb8-85872ff16be9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F1012e71d-16a6-fbd1-5cb8-85872ff16be9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=202f5e30216014fd32629cbe4834264f 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"26:1-26:208\">⑤ フィルタリングされたデッドロックイベントの中から、調査したいデッドロックイベントを選択すると、詳細タグとデッドロックタグが表示されます。</p>\n<p data-sourcepos=\"28:1-28:121\"><a href=\"https://camo.qiitausercontent.com/a889f578992e7dbf6e43cca25667ae41ebc66305/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f39323933353736662d346132312d653363632d363165352d3030313533323134306130302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F9293576f-4a21-e3cc-61e5-001532140a00.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=68957cd7b917875368b273be59f96159\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/9293576f-4a21-e3cc-61e5-001532140a00.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F9293576f-4a21-e3cc-61e5-001532140a00.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bcee3a6507a8dd361a894d9573e2fea2 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"30:1-30:121\">⑥ デッドロックタグを選択すると、デッドロックの詳細がグラフィカルに表示されます。</p>\n<p data-sourcepos=\"32:1-32:121\"><a href=\"https://camo.qiitausercontent.com/a82df0e2203c49bbc8f58ae38998cf4691812dd8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f63353536623331322d323633612d616531392d623937652d3638613236386634306564642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Fc556b312-263a-ae19-b97e-68a268f40edd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=252b100df0211e7eb9b4e5ad1230a2e0\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/c556b312-263a-ae19-b97e-68a268f40edd.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Fc556b312-263a-ae19-b97e-68a268f40edd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9cd11ce4e5a608a0d01c4c6ead24b0b4 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"34:1-34:154\">⑦ より詳細を確認したい場合は、詳細タグの値をクリックすると、デッドロックの詳細がxml形式で表示されます。</p>\n<p data-sourcepos=\"36:1-36:121\"><a href=\"https://camo.qiitausercontent.com/4823cb399466d09e57b95ef9022a6cf696ab7f01/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f64616634366335392d666165362d373661312d376534302d3161326566666138353064362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Fdaf46c59-fae6-76a1-7e40-1a2effa850d6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b5dc0bf70bbf2133f9ba5e854a207ea6\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/daf46c59-fae6-76a1-7e40-1a2effa850d6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Fdaf46c59-fae6-76a1-7e40-1a2effa850d6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ec677db7bae9e6504f8fba2ce77666f5 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"38:1-38:16\"><strong>環境情報</strong></p>\n<p data-sourcepos=\"40:1-40:128\"><a href=\"https://camo.qiitausercontent.com/5f7dbadc94f62c5f058ccbe126370038e4d294fc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f66363461376436632d663162372d656565612d313230622d6533623839633838396131312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ff64a7d6c-f1b7-eeea-120b-e3b89c889a11.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e3fab042b8eb0b2e4e2360b48766337c\" alt=\"SSMS_Version.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/f64a7d6c-f1b7-eeea-120b-e3b89c889a11.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ff64a7d6c-f1b7-eeea-120b-e3b89c889a11.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e9ae42d5acf7b9a81543e0e7b45148e3 1x\" loading=\"lazy\"></a></p>\n","body":"デッドロックを調査するにあたって、SSMSを利用することがあったので、手順を自分用にまとめておきたいと思います。\n\n① オブジェクトエクスプローラーで、調査対象のDB > 管理 > 拡張イベント > セッション > system_health > packageX.event_file を選択します。 \n\n![スクリーンショット 2022-10-19 182628.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/fd7255a0-cce0-3482-5087-19ce1a8bfcd1.png)\n\n\n② イベントの一覧が表示されるので、ここから対象のデッドロックイベントを探します。目検してもよいのですが、イベント数が多い場合はフィルタリング機能を利用します。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/261650e3-61f3-1125-fa00-1a39a4191fbc.png)\n\n\n③ 拡張イベント > フィルター を選択します。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/e0092d17-2013-4b6e-baae-fa9ce6841ea6.png)\n\n④ 以下を入力し、OKボタンを押下します。\n\n- フィールド: name\n- 演算子: =\n- 値: xml_deadlock_report\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/1012e71d-16a6-fbd1-5cb8-85872ff16be9.png)\n\n\n⑤ フィルタリングされたデッドロックイベントの中から、調査したいデッドロックイベントを選択すると、詳細タグとデッドロックタグが表示されます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/9293576f-4a21-e3cc-61e5-001532140a00.png)\n\n⑥ デッドロックタグを選択すると、デッドロックの詳細がグラフィカルに表示されます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/c556b312-263a-ae19-b97e-68a268f40edd.png)\n\n⑦ より詳細を確認したい場合は、詳細タグの値をクリックすると、デッドロックの詳細がxml形式で表示されます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/daf46c59-fae6-76a1-7e40-1a2effa850d6.png)\n\n__環境情報__\n\n![SSMS_Version.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/f64a7d6c-f1b7-eeea-120b-e3b89c889a11.png)\n","coediting":false,"comments_count":0,"created_at":"2023-01-22T21:11:59+09:00","group":null,"id":"b353e435287607df893e","likes_count":0,"private":false,"reactions_count":0,"stocks_count":1,"tags":[{"name":"SQLServer","versions":[]},{"name":"SSMS","versions":[]}],"title":"SSMSを利用してデッドロックを調査したい","updated_at":"2023-01-22T21:12:54+09:00","url":"https://qiita.com/neko_the_shadow/items/b353e435287607df893e","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":36,"github_login_name":null,"id":"neko_the_shadow","items_count":211,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://github.com/nekoTheShadow"},"page_views_count":324,"team_membership":null,"organization_url_name":null}