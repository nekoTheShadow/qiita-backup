{"rendered_body":"<p>たとえば「このファイルの10行目から20行目までを見たい!」というように、ファイルの中間行を行数を指定して抜き出したいという場合、awkの組み込み変数<code>NR</code>、すなわちawkが処理している行の行数が格納されている変数を利用すると便利です。</p>\n\n<p>以下の例では2017年1月1日から2017年12月31日までを1日1行として記録したファイル<code>sample.txt</code>を準備して、その30行目から40行目までを抜き出しています。</p>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span><span class=\"nb\">seq </span>0 364 | xargs <span class=\"nt\">-i</span> <span class=\"nb\">date</span> <span class=\"nt\">-d</span> 2017/01/01+<span class=\"o\">{}</span>days +<span class=\"s2\">\"%Y-%m-%d %A\"</span> <span class=\"o\">&gt;</span> sample.txt\n<span class=\"nv\">$ </span><span class=\"nb\">cat </span>sample.txt | <span class=\"nb\">awk</span> <span class=\"s1\">'(30 &lt;= NR &amp;&amp; NR &lt;= 40){print $0}'</span>\n2017-01-30 Monday\n2017-01-31 Tuesday\n2017-02-01 Wednesday\n2017-02-02 Thursday\n2017-02-03 Friday\n2017-02-04 Saturday\n2017-02-05 Sunday\n2017-02-06 Monday\n2017-02-07 Tuesday\n2017-02-08 Wednesday\n2017-02-09 Thursday\n</pre></div></div>\n\n<p>なおawkの仕様(?)上<code>{print $0}</code>は省略することができます(詳細な理由は割愛しますが)。</p>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span><span class=\"nb\">cat </span>sample.txt | <span class=\"nb\">awk</span> <span class=\"s1\">'(30 &lt;= NR &amp;&amp; NR &lt;= 40)'</span>\n2017-01-30 Monday\n2017-01-31 Tuesday\n2017-02-01 Wednesday\n2017-02-02 Thursday\n2017-02-03 Friday\n2017-02-04 Saturday\n2017-02-05 Sunday\n2017-02-06 Monday\n2017-02-07 Tuesday\n2017-02-08 Wednesday\n2017-02-09 Thursday\n</pre></div></div>\n","body":"\nたとえば「このファイルの10行目から20行目までを見たい!」というように、ファイルの中間行を行数を指定して抜き出したいという場合、awkの組み込み変数`NR`、すなわちawkが処理している行の行数が格納されている変数を利用すると便利です。\n\n以下の例では2017年1月1日から2017年12月31日までを1日1行として記録したファイル`sample.txt`を準備して、その30行目から40行目までを抜き出しています。\n\n```bash\n$ seq 0 364 | xargs -i date -d 2017/01/01+{}days +\"%Y-%m-%d %A\" > sample.txt\n$ cat sample.txt | awk '(30 <= NR && NR <= 40){print $0}'\n2017-01-30 Monday\n2017-01-31 Tuesday\n2017-02-01 Wednesday\n2017-02-02 Thursday\n2017-02-03 Friday\n2017-02-04 Saturday\n2017-02-05 Sunday\n2017-02-06 Monday\n2017-02-07 Tuesday\n2017-02-08 Wednesday\n2017-02-09 Thursday\n```\n\nなおawkの仕様(?)上`{print $0}`は省略することができます(詳細な理由は割愛しますが)。\n\n```bash\n$ cat sample.txt | awk '(30 <= NR && NR <= 40)'\n2017-01-30 Monday\n2017-01-31 Tuesday\n2017-02-01 Wednesday\n2017-02-02 Thursday\n2017-02-03 Friday\n2017-02-04 Saturday\n2017-02-05 Sunday\n2017-02-06 Monday\n2017-02-07 Tuesday\n2017-02-08 Wednesday\n2017-02-09 Thursday\n```\n\n","coediting":false,"comments_count":2,"created_at":"2017-11-07T23:28:02+09:00","group":null,"id":"68ef9e7766001a221701","likes_count":5,"private":false,"reactions_count":0,"tags":[{"name":"Bash","versions":[]}],"title":"ファイルの中間行を行数を指定して抜き出したい","updated_at":"2017-11-07T23:28:46+09:00","url":"https://qiita.com/neko_the_shadow/items/68ef9e7766001a221701","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":35,"github_login_name":null,"id":"neko_the_shadow","items_count":173,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":null}