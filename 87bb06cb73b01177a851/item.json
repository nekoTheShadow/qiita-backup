{"rendered_body":"<p>Solargraphを<code>gem install</code>しているにもかかわらず、vscodeの拡張機能であるRuby Solargraph<br>\nが以下のようなエラーを表示することがあります。</p>\n\n<p><a href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F1c77717e-b4a8-8b13-a047-a8d05313a71d.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=51a552babc7bf8157649b59988cdb062\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F1c77717e-b4a8-8b13-a047-a8d05313a71d.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=51a552babc7bf8157649b59988cdb062\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/1c77717e-b4a8-8b13-a047-a8d05313a71d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F1c77717e-b4a8-8b13-a047-a8d05313a71d.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8542f659ce7e443b9c63851a19c7a89f 1x\" loading=\"lazy\"></a></p>\n\n<p><strong>わたしの環境では、拡張機能側がSolargraphを探せていないことがこの原因でした。</strong> 拡張機能Ruby Solargraphは項目<code>Command Path</code>の設定値をもとにSolargraph Gemを探し、そのデフォルト値は<code>solargraph</code>となっています。</p>\n\n<p><a href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F6b6a5021-ec1f-707b-2e4d-6e77b3548343.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c4e72b3e6155866e5a995de04b1d18e0\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F6b6a5021-ec1f-707b-2e4d-6e77b3548343.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c4e72b3e6155866e5a995de04b1d18e0\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/6b6a5021-ec1f-707b-2e4d-6e77b3548343.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F6b6a5021-ec1f-707b-2e4d-6e77b3548343.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0b2f041e01f44fc7e98de8062c412cf8 1x\" loading=\"lazy\"></a></p>\n\n<p>そこでおもむろに以下のようなコマンドを打ち込んでみると、確かに<code>solargraph</code>が見つかりませんでした。繰り返すようにSolargraphは<code>gem install</code>済みです、<code>gem install</code>時に<code>solarpath</code>コマンドの<code>PATH</code>が通るはずですが、何らかの事情で通らなかったのでしょう。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ solargraph help\n-bash: solargraph: command not found\n</pre></div></div>\n\n<hr>\n\n<ol>\n<li>\n<code>solargraph</code>の実体を探して、<code>PATH</code>を通す</li>\n<li>\n<code>solargraph</code>の実体を探して、そのフルパスを<code>Command Path</code>に設定する。</li>\n</ol>\n\n<p>この問題の解消法としては以上の2つが思いつきますが、今回、わたしは2を選択しました。まずは<code>gem env</code>コマンドで<code>solargraph</code>コマンドが設置されているディレクトリを探します。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ gem env | grep \"EXECUTABLE DIRECTORY\"\n  - EXECUTABLE DIRECTORY: /usr/local/lib/ruby/gems/2.6.0/bin\n</pre></div></div>\n\n<p>つまり<code>/usr/local/lib/ruby/gems/2.6.0/bin/solargraph</code>が目的のコマンドになるはずなので、それを以下の通りに確認します。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ /usr/local/lib/ruby/gems/2.6.0/bin/solargraph help\nCommands:\n  solargraph --version, -v            # Print the version\n  solargraph available-cores          # List available documentation versions\n  solargraph clear-cores              # Clear the cached core documentation\n  solargraph config [DIRECTORY]       # Create or overwrite a default configuration file\n  solargraph download-core [VERSION]  # Download core documentation\n  solargraph help [COMMAND]           # Describe available commands or one specific command\n  solargraph list-cores               # List the local documentation versions\n  solargraph reporters                # Get a list of diagnostics reporters\n  solargraph socket                   # Run a Solargraph socket server\n  solargraph stdio                    # Run a Solargraph stdio server\n</pre></div></div>\n\n<p>あとは以下のように<code>Command Path</code>に<code>solargraph</code>のフルパスを指定してやるだけで、ポップアップは表示されなくなり、拡張機能が正しく稼働するようになるはず。</p>\n\n<p><a href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ff158a8ab-5ae3-ccff-1bae-9d3ff4260652.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=74e8c3a8e68139a49f1b5b9b90a7dab3\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ff158a8ab-5ae3-ccff-1bae-9d3ff4260652.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=74e8c3a8e68139a49f1b5b9b90a7dab3\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/f158a8ab-5ae3-ccff-1bae-9d3ff4260652.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ff158a8ab-5ae3-ccff-1bae-9d3ff4260652.png?ixlib=rb-1.2.2&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bfa7d9549c050a1b953efa954ab2266b 1x\" loading=\"lazy\"></a></p>\n","body":"Solargraphを`gem install`しているにもかかわらず、vscodeの拡張機能であるRuby Solargraph\nが以下のようなエラーを表示することがあります。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/1c77717e-b4a8-8b13-a047-a8d05313a71d.png)\n\n__わたしの環境では、拡張機能側がSolargraphを探せていないことがこの原因でした。__ 拡張機能Ruby Solargraphは項目`Command Path`の設定値をもとにSolargraph Gemを探し、そのデフォルト値は`solargraph`となっています。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/6b6a5021-ec1f-707b-2e4d-6e77b3548343.png)\n\nそこでおもむろに以下のようなコマンドを打ち込んでみると、確かに`solargraph`が見つかりませんでした。繰り返すようにSolargraphは`gem install`済みです、`gem install`時に`solarpath`コマンドの`PATH`が通るはずですが、何らかの事情で通らなかったのでしょう。\n\n```\n$ solargraph help\n-bash: solargraph: command not found\n```\n\n---\n\n1. `solargraph`の実体を探して、`PATH`を通す\n2. `solargraph`の実体を探して、そのフルパスを`Command Path`に設定する。\n\nこの問題の解消法としては以上の2つが思いつきますが、今回、わたしは2を選択しました。まずは`gem env`コマンドで`solargraph`コマンドが設置されているディレクトリを探します。\n\n```\n$ gem env | grep \"EXECUTABLE DIRECTORY\"\n  - EXECUTABLE DIRECTORY: /usr/local/lib/ruby/gems/2.6.0/bin\n```\n\nつまり`/usr/local/lib/ruby/gems/2.6.0/bin/solargraph`が目的のコマンドになるはずなので、それを以下の通りに確認します。\n\n```\n$ /usr/local/lib/ruby/gems/2.6.0/bin/solargraph help\nCommands:\n  solargraph --version, -v            # Print the version\n  solargraph available-cores          # List available documentation versions\n  solargraph clear-cores              # Clear the cached core documentation\n  solargraph config [DIRECTORY]       # Create or overwrite a default configuration file\n  solargraph download-core [VERSION]  # Download core documentation\n  solargraph help [COMMAND]           # Describe available commands or one specific command\n  solargraph list-cores               # List the local documentation versions\n  solargraph reporters                # Get a list of diagnostics reporters\n  solargraph socket                   # Run a Solargraph socket server\n  solargraph stdio                    # Run a Solargraph stdio server\n```\n\nあとは以下のように`Command Path`に`solargraph`のフルパスを指定してやるだけで、ポップアップは表示されなくなり、拡張機能が正しく稼働するようになるはず。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/f158a8ab-5ae3-ccff-1bae-9d3ff4260652.png)\n\n","coediting":false,"comments_count":0,"created_at":"2019-06-29T23:10:04+09:00","group":null,"id":"87bb06cb73b01177a851","likes_count":14,"private":false,"reactions_count":0,"tags":[{"name":"Ruby","versions":[]},{"name":"VSCode","versions":[]}],"title":"Solargraphをインストールしたにもかかわらず、拡張機能「Ruby Solargraph」が「gem install solargraph」エラーになる","updated_at":"2019-06-29T23:10:04+09:00","url":"https://qiita.com/neko_the_shadow/items/87bb06cb73b01177a851","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":35,"github_login_name":null,"id":"neko_the_shadow","items_count":178,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":null}