{"rendered_body":"<p>Solargraphを<code>gem install</code>しているにもかかわらず、vscodeの拡張機能であるRuby Solargraph<br>\nが以下のようなエラーを表示することがあります。</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/17f63b951b1313af2daa2e7df93df1f59c8b28a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f31633737373137652d623461382d386231332d613034372d6138643035333133613731642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F1c77717e-b4a8-8b13-a047-a8d05313a71d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9a433faa81c4c4ab36448500d956b04f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/1c77717e-b4a8-8b13-a047-a8d05313a71d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F1c77717e-b4a8-8b13-a047-a8d05313a71d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b003f874afa63465b7e067bdccb38cac 1x\" loading=\"lazy\"></a></p>\n\n<p><strong>わたしの環境では、拡張機能側がSolargraphを探せていないことがこの原因でした。</strong> 拡張機能Ruby Solargraphは項目<code>Command Path</code>の設定値をもとにSolargraph Gemを探し、そのデフォルト値は<code>solargraph</code>となっています。</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/458b5a9ee621b8fe8cbc78a5b314b98371130d8f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f36623661353032312d656331662d373037622d326534642d3665373762333534383334332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F6b6a5021-ec1f-707b-2e4d-6e77b3548343.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=af50037f7bb90e7780933d5fc34cb563\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/6b6a5021-ec1f-707b-2e4d-6e77b3548343.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2F6b6a5021-ec1f-707b-2e4d-6e77b3548343.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=14b90aba0f698a16513e6d61eb6bd60d 1x\" loading=\"lazy\"></a></p>\n\n<p>そこでおもむろに以下のようなコマンドを打ち込んでみると、確かに<code>solargraph</code>が見つかりませんでした。繰り返すようにSolargraphは<code>gem install</code>済みです、<code>gem install</code>時に<code>solarpath</code>コマンドの<code>PATH</code>が通るはずですが、何らかの事情で通らなかったのでしょう。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>$ solargraph help\n-bash: solargraph: command not found\n</code></pre></div></div>\n\n<hr>\n\n<ol>\n<li>\n<code>solargraph</code>の実体を探して、<code>PATH</code>を通す</li>\n<li>\n<code>solargraph</code>の実体を探して、そのフルパスを<code>Command Path</code>に設定する。</li>\n</ol>\n\n<p>この問題の解消法としては以上の2つが思いつきますが、今回、わたしは2を選択しました。まずは<code>gem env</code>コマンドで<code>solargraph</code>コマンドが設置されているディレクトリを探します。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>$ gem env | grep \"EXECUTABLE DIRECTORY\"\n  - EXECUTABLE DIRECTORY: /usr/local/lib/ruby/gems/2.6.0/bin\n</code></pre></div></div>\n\n<p>つまり<code>/usr/local/lib/ruby/gems/2.6.0/bin/solargraph</code>が目的のコマンドになるはずなので、それを以下の通りに確認します。</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>$ /usr/local/lib/ruby/gems/2.6.0/bin/solargraph help\nCommands:\n  solargraph --version, -v            # Print the version\n  solargraph available-cores          # List available documentation versions\n  solargraph clear-cores              # Clear the cached core documentation\n  solargraph config [DIRECTORY]       # Create or overwrite a default configuration file\n  solargraph download-core [VERSION]  # Download core documentation\n  solargraph help [COMMAND]           # Describe available commands or one specific command\n  solargraph list-cores               # List the local documentation versions\n  solargraph reporters                # Get a list of diagnostics reporters\n  solargraph socket                   # Run a Solargraph socket server\n  solargraph stdio                    # Run a Solargraph stdio server\n</code></pre></div></div>\n\n<p>あとは以下のように<code>Command Path</code>に<code>solargraph</code>のフルパスを指定してやるだけで、ポップアップは表示されなくなり、拡張機能が正しく稼働するようになるはず。</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/4dcf9b9d5bdf00828acf99987fdf24f3666b3820/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130353835392f66313538613861622d356165332d636366662d316261652d3964336666343236303635322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ff158a8ab-5ae3-ccff-1bae-9d3ff4260652.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3138f6a955b16d9204a02040719bc256\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/f158a8ab-5ae3-ccff-1bae-9d3ff4260652.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F105859%2Ff158a8ab-5ae3-ccff-1bae-9d3ff4260652.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ff993c2e2a3c1180f6ecc0228e890208 1x\" loading=\"lazy\"></a></p>\n","body":"Solargraphを`gem install`しているにもかかわらず、vscodeの拡張機能であるRuby Solargraph\nが以下のようなエラーを表示することがあります。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/1c77717e-b4a8-8b13-a047-a8d05313a71d.png)\n\n__わたしの環境では、拡張機能側がSolargraphを探せていないことがこの原因でした。__ 拡張機能Ruby Solargraphは項目`Command Path`の設定値をもとにSolargraph Gemを探し、そのデフォルト値は`solargraph`となっています。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/6b6a5021-ec1f-707b-2e4d-6e77b3548343.png)\n\nそこでおもむろに以下のようなコマンドを打ち込んでみると、確かに`solargraph`が見つかりませんでした。繰り返すようにSolargraphは`gem install`済みです、`gem install`時に`solarpath`コマンドの`PATH`が通るはずですが、何らかの事情で通らなかったのでしょう。\n\n```\n$ solargraph help\n-bash: solargraph: command not found\n```\n\n---\n\n1. `solargraph`の実体を探して、`PATH`を通す\n2. `solargraph`の実体を探して、そのフルパスを`Command Path`に設定する。\n\nこの問題の解消法としては以上の2つが思いつきますが、今回、わたしは2を選択しました。まずは`gem env`コマンドで`solargraph`コマンドが設置されているディレクトリを探します。\n\n```\n$ gem env | grep \"EXECUTABLE DIRECTORY\"\n  - EXECUTABLE DIRECTORY: /usr/local/lib/ruby/gems/2.6.0/bin\n```\n\nつまり`/usr/local/lib/ruby/gems/2.6.0/bin/solargraph`が目的のコマンドになるはずなので、それを以下の通りに確認します。\n\n```\n$ /usr/local/lib/ruby/gems/2.6.0/bin/solargraph help\nCommands:\n  solargraph --version, -v            # Print the version\n  solargraph available-cores          # List available documentation versions\n  solargraph clear-cores              # Clear the cached core documentation\n  solargraph config [DIRECTORY]       # Create or overwrite a default configuration file\n  solargraph download-core [VERSION]  # Download core documentation\n  solargraph help [COMMAND]           # Describe available commands or one specific command\n  solargraph list-cores               # List the local documentation versions\n  solargraph reporters                # Get a list of diagnostics reporters\n  solargraph socket                   # Run a Solargraph socket server\n  solargraph stdio                    # Run a Solargraph stdio server\n```\n\nあとは以下のように`Command Path`に`solargraph`のフルパスを指定してやるだけで、ポップアップは表示されなくなり、拡張機能が正しく稼働するようになるはず。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/105859/f158a8ab-5ae3-ccff-1bae-9d3ff4260652.png)\n\n","coediting":false,"comments_count":0,"created_at":"2019-06-29T23:10:04+09:00","group":null,"id":"87bb06cb73b01177a851","likes_count":17,"private":false,"reactions_count":0,"tags":[{"name":"Ruby","versions":[]},{"name":"VSCode","versions":[]}],"title":"Solargraphをインストールしたにもかかわらず、拡張機能「Ruby Solargraph」が「gem install solargraph」エラーになる","updated_at":"2019-06-29T23:10:04+09:00","url":"https://qiita.com/neko_the_shadow/items/87bb06cb73b01177a851","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":36,"github_login_name":null,"id":"neko_the_shadow","items_count":197,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":null,"team_membership":null}