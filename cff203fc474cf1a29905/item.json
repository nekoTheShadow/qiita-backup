{"rendered_body":"<p>SQLServerには一時テーブルという機能があるのですが、既存のテーブルをもとにして一時テーブルを作成したい場合、INTOを利用します。</p>\n\n<p>たとえば以下はテーブルXから一時テーブルYを作成するサンプルです。</p>\n\n<div class=\"code-frame\" data-lang=\"SQL\"><div class=\"highlight\"><pre><code><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">INTO</span> <span class=\"o\">#</span><span class=\"n\">Y</span> <span class=\"k\">FROM</span> <span class=\"n\">X</span><span class=\"p\">;</span>\n</code></pre></div></div>\n\n<p>INTOを利用すると、何もないところからCREATE TABLEを利用せずに一時テーブルを作成することも可能です。</p>\n\n<p>以下のSQLでは初期データを持った一時テーブルPを作成することができます。</p>\n\n<div class=\"code-frame\" data-lang=\"SQL\"><div class=\"highlight\"><pre><code><span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n<span class=\"k\">INTO</span> <span class=\"o\">#</span><span class=\"n\">P</span>\n<span class=\"k\">FROM</span> <span class=\"p\">(</span><span class=\"k\">VALUES</span>\n  <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">'A'</span><span class=\"p\">),</span>\n  <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">'B'</span><span class=\"p\">),</span>\n  <span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s1\">'C'</span><span class=\"p\">)</span>\n<span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">T</span> <span class=\"p\">(</span><span class=\"n\">col1</span><span class=\"p\">,</span> <span class=\"n\">col2</span><span class=\"p\">);</span>\n</code></pre></div></div>\n\n<p><strong>環境情報</strong></p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>Microsoft SQL Server 2019 (RTM-CU9) (KB5000642) - 15.0.4102.2 (X64) \n    Jan 25 2021 20:16:12 \n    Copyright (C) 2019 Microsoft Corporation\n    Developer Edition (64-bit) on Linux (Ubuntu 18.04.5 LTS) &lt;X64&gt;\n</code></pre></div></div>\n","body":"SQLServerには一時テーブルという機能があるのですが、既存のテーブルをもとにして一時テーブルを作成したい場合、INTOを利用します。\n\nたとえば以下はテーブルXから一時テーブルYを作成するサンプルです。\n\n```SQL\nSELECT * INTO #Y FROM X;\n```\n\nINTOを利用すると、何もないところからCREATE TABLEを利用せずに一時テーブルを作成することも可能です。\n\n以下のSQLでは初期データを持った一時テーブルPを作成することができます。\n\n```SQL\nSELECT *\nINTO #P\nFROM (VALUES\n  (1, 'A'),\n  (2, 'B'),\n  (3, 'C')\n) AS T (col1, col2);\n```\n\n**環境情報**\n\n```\nMicrosoft SQL Server 2019 (RTM-CU9) (KB5000642) - 15.0.4102.2 (X64) \n    Jan 25 2021 20:16:12 \n    Copyright (C) 2019 Microsoft Corporation\n    Developer Edition (64-bit) on Linux (Ubuntu 18.04.5 LTS) <X64>\n```\n","coediting":false,"comments_count":0,"created_at":"2021-09-06T20:41:07+09:00","group":null,"id":"cff203fc474cf1a29905","likes_count":0,"private":false,"reactions_count":0,"stocks_count":1,"tags":[{"name":"SQLServer","versions":[]}],"title":"CREATE TABLEを利用せずに一時テーブルを作成したい","updated_at":"2021-09-06T20:41:07+09:00","url":"https://qiita.com/neko_the_shadow/items/cff203fc474cf1a29905","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":35,"github_login_name":null,"id":"neko_the_shadow","items_count":207,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":2336,"team_membership":null}