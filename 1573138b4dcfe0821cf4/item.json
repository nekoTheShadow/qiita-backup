{"rendered_body":"<p>SQLでは文字列リテラルとしてシングルクォート(「'」)を利用します。そのため文字列中に何も考えずシングルクォートを混ぜていると、RDBMSが文字としてのシングルクォートと文字列リテラルとしてのシングルクォートを区別できず、エラーになります。</p>\n\n<div class=\"code-frame\" data-lang=\"sql\"><div class=\"highlight\"><pre><span class=\"o\">-</span> <span class=\"err\">これはエラーになる</span>\n<span class=\"k\">update</span> <span class=\"n\">tbl</span> <span class=\"k\">set</span> <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"s1\">'彼女は'</span><span class=\"n\">HELLO</span><span class=\"s1\">'といいました'</span> <span class=\"k\">where</span> <span class=\"n\">id</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>\n</pre></div></div>\n\n<p><strong>要するにSQLでは文字としてのシングルクォートをエスケープする必要があるということです。</strong>特殊文字のエスケープというとバックスラッシュ(「\\」)がよく利用されるイメージがありますが、<strong>SQLにおいてはシングルクォートをエスケープする場合はシングルクォートを2回重ねます。</strong>たとえば上述の例では次のように書くと正常に動作します。</p>\n\n<div class=\"code-frame\" data-lang=\"sql\"><div class=\"highlight\"><pre><span class=\"o\">-</span> <span class=\"err\">これは正常に動く。</span>\n<span class=\"k\">update</span> <span class=\"n\">tbl</span> <span class=\"k\">set</span> <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"s1\">'彼女は</span><span class=\"se\">''</span><span class=\"s1\">HELLO</span><span class=\"se\">''</span><span class=\"s1\">といいました'</span> <span class=\"k\">where</span> <span class=\"n\">id</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>\n</pre></div></div>\n\n<p>CSVではフィールド内のダブルクオート(「\"」)をエスケープする際「\"\"」に変換します。これにちょっと近いかしら(´・ω・`)</p>\n","body":"\nSQLでは文字列リテラルとしてシングルクォート(「'」)を利用します。そのため文字列中に何も考えずシングルクォートを混ぜていると、RDBMSが文字としてのシングルクォートと文字列リテラルとしてのシングルクォートを区別できず、エラーになります。\n\n```sql\n- これはエラーになる\nupdate tbl set msg = '彼女は'HELLO'といいました' where id = 100\n```\n\n__要するにSQLでは文字としてのシングルクォートをエスケープする必要があるということです。__特殊文字のエスケープというとバックスラッシュ(「\\」)がよく利用されるイメージがありますが、__SQLにおいてはシングルクォートをエスケープする場合はシングルクォートを2回重ねます。__たとえば上述の例では次のように書くと正常に動作します。\n\n```sql\n- これは正常に動く。\nupdate tbl set msg = '彼女は''HELLO''といいました' where id = 100\n```\n\nCSVではフィールド内のダブルクオート(「\"」)をエスケープする際「\"\"」に変換します。これにちょっと近いかしら(´・ω・`)\n","coediting":false,"comments_count":0,"created_at":"2016-11-29T01:01:33+09:00","group":null,"id":"1573138b4dcfe0821cf4","likes_count":24,"private":false,"reactions_count":0,"tags":[{"name":"SQL","versions":[]}],"title":"SQLでは「'」をエスケープする際に「''」を使う","updated_at":"2016-11-29T01:01:33+09:00","url":"https://qiita.com/neko_the_shadow/items/1573138b4dcfe0821cf4","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":35,"github_login_name":null,"id":"neko_the_shadow","items_count":179,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://nekotheshadow.github.io/"},"page_views_count":null}