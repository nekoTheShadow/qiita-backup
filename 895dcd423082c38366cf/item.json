{"rendered_body":"<p>たとえばディレクトリ<code>/foo/bar</code>の直下に<code>a.xml</code>/<code>b.xml</code>/<code>c.xml</code>という3つのxmlファイルがあり、この3つだけをおさめたzipファイルを作りたいとします。つまり<strong>「zipファイルを解凍すると、解凍ディレクトリの直下に3つのxmlファイルが格納されている」</strong>という状態にしたいわけです。</p>\n\n<p>さてこのとき思わず次のようなzipコマンドを打ち込みたくなります。</p>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><code>zip /foo/bar/hoge.zip /foo/bar/<span class=\"k\">*</span>.xml\n</code></pre></div></div>\n\n<p>この結果によってディレクトリ<code>/foo/bar</code>直下に生成された<code>hoge.zip</code>を解凍してみると、<strong>ディレクトリ構造が温存されている</strong>ことがわかります。つまり<code>hoge.zip</code>を解凍すると、まず<code>foo</code>というディレクトリがあり、その直下に<code>bar</code>があって、そこをさらに潜って初めて<code>a.xml</code>/<code>b.xml</code>/<code>c.xml</code>が現れます。言い方を変えるとzipファイルには<code>/foo/bar/a.xml</code>, <code>/foo/bar/b.xml</code>, <code>/foo/bar/c.xml</code>が圧縮されたような形になっています。</p>\n\n<p><strong>これを回避する、つまりディレクトリ構造を無視してファイルだけをzipとして圧縮したい場合は<code>-j</code>オプションを使います。</strong></p>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><code>zip <span class=\"nt\">-j</span>  /foo/bar/hoge.zip /foo/bar/<span class=\"k\">*</span>.xml\n</code></pre></div></div>\n\n<p>こうすると<code>hoge.zip</code>を解凍したディレクトリの直下に<code>a.xml</code>/<code>b.xml</code>/<code>c.xml</code>の3つが格納されています。</p>\n","body":"\nたとえばディレクトリ`/foo/bar`の直下に`a.xml`/`b.xml`/`c.xml`という3つのxmlファイルがあり、この3つだけをおさめたzipファイルを作りたいとします。つまり__「zipファイルを解凍すると、解凍ディレクトリの直下に3つのxmlファイルが格納されている」__という状態にしたいわけです。\n\nさてこのとき思わず次のようなzipコマンドを打ち込みたくなります。\n\n```bash\nzip /foo/bar/hoge.zip /foo/bar/*.xml\n```\n\nこの結果によってディレクトリ`/foo/bar`直下に生成された`hoge.zip`を解凍してみると、__ディレクトリ構造が温存されている__ことがわかります。つまり`hoge.zip`を解凍すると、まず`foo`というディレクトリがあり、その直下に`bar`があって、そこをさらに潜って初めて`a.xml`/`b.xml`/`c.xml`が現れます。言い方を変えるとzipファイルには`/foo/bar/a.xml`, `/foo/bar/b.xml`, `/foo/bar/c.xml`が圧縮されたような形になっています。\n\n__これを回避する、つまりディレクトリ構造を無視してファイルだけをzipとして圧縮したい場合は`-j`オプションを使います。__\n\n```bash\nzip -j  /foo/bar/hoge.zip /foo/bar/*.xml\n```\n\nこうすると`hoge.zip`を解凍したディレクトリの直下に`a.xml`/`b.xml`/`c.xml`の3つが格納されています。\n\n\n","coediting":false,"comments_count":0,"created_at":"2016-11-23T23:53:09+09:00","group":null,"id":"895dcd423082c38366cf","likes_count":30,"private":false,"reactions_count":0,"stocks_count":21,"tags":[{"name":"ShellScript","versions":[]},{"name":"Bash","versions":[]}],"title":"ディレクトリ構造を無視して圧縮する場合はzipコマンドの-jオプションを使う","updated_at":"2016-11-23T23:53:09+09:00","url":"https://qiita.com/neko_the_shadow/items/895dcd423082c38366cf","user":{"description":"IT業界の片隅でひっそり生きるシステムエンジニアです(´・ω・｀)","facebook_id":"","followees_count":0,"followers_count":36,"github_login_name":null,"id":"neko_the_shadow","items_count":214,"linkedin_id":"","location":"神奈川県川崎市","name":"","organization":"","permanent_id":105859,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753","team_only":false,"twitter_screen_name":"neko_the_shadow","website_url":"https://github.com/nekoTheShadow"},"page_views_count":30715,"team_membership":null,"organization_url_name":null}